"use strict";function sortCompare(a){return function(b,c){return parseInt(b[a],10)<parseInt(c[a],10)?-1:parseInt(b[a],10)>parseInt(c[a],10)?1:0}}function JSON_CALLBACK(){}angular.module("app",["ngAnimate","ngCookies","ngResource","ngSanitize","ngMessages","ngTouch","ngStorage","ui.router","ui.bootstrap","ngTagsInput","ui.load","ui.jq","ui.validate","oc.lazyLoad","pascalprecht.translate","colorpicker.module","cgBusy","angularFileUpload","infinite-scroll","toaster","ng-context-menu","ui.sortable","ngSanitize","ui.select","facebook"]);var app=angular.module("app").config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(a,b,c,d){app.controller=a.register,app.directive=b.directive,app.filter=c.register,app.factory=d.factory,app.service=d.service,app.constant=d.constant,app.value=d.value}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"l10n/",suffix:".json"}),a.preferredLanguage("en"),a.useLocalStorage()}]).config(["FacebookProvider",function(a){a.init("804274249657423")}]).constant("appConfig",{apiUrl:"https://smacx-node-server-dev.herokuapp.com/api/v1",bookPermissions:["PUBLIC","PRIVATE","DRAFT"],bookSubType:["FREE","PAID"],currencyType:["INR","USD"]});angular.module("app").constant("JQ_CONFIG",{easyPieChart:["vendor/jquery/charts/easypiechart/jquery.easy-pie-chart.js"],sparkline:["vendor/jquery/charts/sparkline/jquery.sparkline.min.js"],plot:["vendor/jquery/charts/flot/jquery.flot.min.js","vendor/jquery/charts/flot/jquery.flot.resize.js","vendor/jquery/charts/flot/jquery.flot.tooltip.min.js","vendor/jquery/charts/flot/jquery.flot.spline.js","vendor/jquery/charts/flot/jquery.flot.orderBars.js","vendor/jquery/charts/flot/jquery.flot.pie.min.js"],slimScroll:["vendor/jquery/slimscroll/jquery.slimscroll.min.js"],sortable:["vendor/jquery/sortable/jquery.sortable.js"],nestable:["vendor/jquery/nestable/jquery.nestable.js","vendor/jquery/nestable/nestable.css"],filestyle:["vendor/jquery/file/bootstrap-filestyle.min.js"],slider:["vendor/jquery/slider/bootstrap-slider.js","vendor/jquery/slider/slider.css"],chosen:["vendor/jquery/chosen/chosen.jquery.min.js","vendor/jquery/chosen/chosen.css"],TouchSpin:["vendor/jquery/spinner/jquery.bootstrap-touchspin.min.js","vendor/jquery/spinner/jquery.bootstrap-touchspin.css"],wysiwyg:["vendor/jquery/wysiwyg/bootstrap-wysiwyg.js","vendor/jquery/wysiwyg/jquery.hotkeys.js"],dataTable:["vendor/jquery/datatables/jquery.dataTables.min.js","vendor/jquery/datatables/dataTables.bootstrap.js","vendor/jquery/datatables/dataTables.bootstrap.css"],vectorMap:["vendor/jquery/jvectormap/jquery-jvectormap.min.js","vendor/jquery/jvectormap/jquery-jvectormap-world-mill-en.js","vendor/jquery/jvectormap/jquery-jvectormap-us-aea-en.js","vendor/jquery/jvectormap/jquery-jvectormap.css"],footable:["vendor/jquery/footable/footable.all.min.js","vendor/jquery/footable/footable.core.css"]}).config(["$ocLazyLoadProvider",function(a){a.config({debug:!1,events:!0,modules:[{name:"ngGrid",files:["vendor/modules/ng-grid/ng-grid.min.js","vendor/modules/ng-grid/ng-grid.min.css","vendor/modules/ng-grid/theme.css"]},{name:"ui.select",files:["vendor/modules/angular-ui-select/select.min.js","vendor/modules/angular-ui-select/select.min.css"]},{name:"angularFileUpload",files:["vendor/modules/angular-file-upload/angular-file-upload.min.js"]},{name:"ui.calendar",files:["vendor/modules/angular-ui-calendar/calendar.js"]},{name:"ngImgCrop",files:["vendor/modules/ngImgCrop/ng-img-crop.js","vendor/modules/ngImgCrop/ng-img-crop.css"]},{name:"angularBootstrapNavTree",files:["vendor/modules/angular-bootstrap-nav-tree/abn_tree_directive.js","vendor/modules/angular-bootstrap-nav-tree/abn_tree.css"]},{name:"toaster",files:["vendor/modules/angularjs-toaster/toaster.js","vendor/modules/angularjs-toaster/toaster.css"]},{name:"textAngular",files:["vendor/modules/textAngular/textAngular-sanitize.min.js","vendor/modules/textAngular/textAngular.min.js"]},{name:"vr.directives.slider",files:["vendor/modules/angular-slider/angular-slider.min.js","vendor/modules/angular-slider/angular-slider.css"]}]})}]),angular.module("app").run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("whatsay/login"),a.state("whatsay",{"abstract":!0,url:"/whatsay",template:'<div ui-view class="fade-in-right-big smooth"></div>'}).state("whatsay.login",{url:"/login",templateUrl:"tpl/page_signin.html",resolve:{deps:["uiLoad",function(a){return a.load(["js/controllers/signin.js"])}]}}).state("whatsay.signup",{url:"/signup",templateUrl:"tpl/page_signup.html",resolve:{deps:["uiLoad",function(a){return a.load(["js/controllers/signup.js"])}]}}).state("app",{"abstract":!0,url:"/app",templateUrl:"tpl/app.html"}).state("app.cue",{url:"/cue",template:'<div ui-view class="fade-in-up"><div class="bg-light lter b-b wrapper-md"><h1 class="m-n font-thin h3">Select left panel to operate.</h1></div></div>'}).state("app.cue.view",{url:"/view",views:{"":{templateUrl:"tpl/cue/cue_view.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/cue/cue.js"])}]}}).state("app.cue.create",{url:"/create",views:{"":{templateUrl:"tpl/cue/cue_create.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/cue/cue.js"])}]}}).state("app.cue.delete",{url:"/delete",views:{"":{templateUrl:"tpl/cue/cue_delete.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/cue/cue.js"])}]}})}]),angular.module("app").controller("AppCtrl",["$scope","$translate","$localStorage","$window",function(a,b,c,d){function e(a){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(b)}var f=!!navigator.userAgent.match(/MSIE/i);f&&angular.element(d.document.body).addClass("ie"),e(d)&&angular.element(d.document.body).addClass("smart"),a.app={name:"WHAT SAY",version:"0.0.1",color:{primary:"#7266ba",info:"#23b7e5",success:"#27c24c",warning:"#fad733",danger:"#f05050",light:"#e8eff0",dark:"#3a3f51",black:"#1c2b36"},settings:{themeID:1,navbarHeaderColor:"bg-black",navbarCollapseColor:"bg-white-only",asideColor:"bg-black",headerFixed:!0,asideFixed:!1,asideFolded:!1,asideDock:!1,container:!1}},angular.isDefined(c.settings)?a.app.settings=c.settings:c.settings=a.app.settings,a.$watch("app.settings",function(){a.app.settings.asideDock&&a.app.settings.asideFixed&&(a.app.settings.headerFixed=!0),c.settings=a.app.settings},!0),a.lang={isopen:!1},a.langs={en:"English",tel:"తెలుగు"},a.selectLang=a.langs[b.proposedLanguage()]||"English",a.setLang=function(c){a.selectLang=a.langs[c],b.use(c),a.lang.isopen=!a.lang.isopen}}]),angular.module("app").directive("browse",function(){function a(a,b,c,d){a.onUpload=function(){a.uploadModel={url:""}};var e=$file[0],f=new FormData,g=new FileReader;f.append("file",e),/\.(jpg|jpeg|png)$/i.test(e.name)&&(g.onload=function(){return function(b){a.$apply(function(){a.uploadModel.url=b.target.result})}}(e),g.readAsDataURL(e)),a.myPromise=c.uploadTos3(f).success(function(b){if(/\.(jpg|jpeg|png)$/i.test(e.name)){{new Image}g.onload=function(){return function(){a.$apply(function(){a.uploadModel.url=b})}}(e),g.readAsDataURL(e)}d.pop("success","File Successfully Uploaded")}).error(function(){d.pop("error","Error while file upload.")})}return{restrict:"EA",scope:{uploadModel:"=",myPromise:"="},controller:a,templateUrl:"tpl/browse.html"}}),angular.module("app").directive("createBook",["$modal","$window",function(a,b){function c(a,c,d,e,f){a.book={title:"",author:"",imageData:"",zoom:0,permission:"PUBLIC",subType:"FREE",tags:[],trailPeriod:0,price:0,currency:"USD"},a.hascover=!0,a.bookPermissions=f.bookPermissions,a.bookSubType=f.bookSubType,a.currencyType=f.currencyType,a.cancel=function(){c.dismiss("cancel")},a.createBook=function(){a.book.image=a.book.ImageBoxArray.ImageName,a.book.imageData=a.book.ImageBoxArray.Image,a.myPromise=d.createBook(a.book).success(function(a){e.pop("success","Successfully created Your Book"),c.close(),b.location="/#/book/canvas/"+a.book_id}).error(function(){a.message="Unexpected Error",e.pop("error","Unexpected Error")})},a.resetForm=function(){a.book={title:"",author:"",permission:"",zoom:"",imageData:"",subType:"",tags:[]},a.hascover=!1}}return{restrict:"A",scope:{createBook:"&"},link:function(b,d){d.click(function(){a.open({templateUrl:"tpl/bookshelf/create_book_model.html",controller:c,size:"lg"})})}}}]),angular.module("app").directive("resizable",function(){return{restrict:"A",scope:{elementStyle:"="},link:function(a,b){b.on("click",function(){b.addClass("ele-active"),b.append('<div class="handler"></div>'),b.draggable({handle:".handler",containment:".canvasdiv",revert:!1,stop:function(b,c){a.$apply(function(){a.elementStyle.x=c.position.left,a.elementStyle.y=c.position.top})}}).resizable({stop:function(b,c){a.$apply(function(){a.elementStyle.width=c.size.width,a.elementStyle.height=c.size.height})},aspectRatio:!0})}),a.$on("$destroy",function(){b.removeClass("active")})}}}),angular.module("app").directive("setNgAnimate",["$animate",function(a){return{link:function(b,c,d){b.$watch(function(){return b.$eval(d.setNgAnimate,b)},function(b){a.enabled(!!b,c)})}}}]),angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll",function(a,b){return{restrict:"AC",template:'<span class="bar"></span>',link:function(a,c){c.addClass("butterbar hide"),a.$on("$stateChangeStart",function(){b(),c.removeClass("hide").addClass("active")}),a.$on("$stateChangeSuccess",function(a){a.targetScope.$watch("$viewContentLoaded",function(){c.addClass("hide").removeClass("active")})})}}}]),angular.module("app").directive("uiFocus",function(a,b){return{link:function(c,d,e){var f=b(e.uiFocus);c.$watch(f,function(b){b===!0&&a(function(){d[0].focus()})}),d.bind("blur",function(){c.$apply(f.assign(c,!1))})}}}),angular.module("app").directive("uiFullscreen",["uiLoad","$document","$window",function(a,b){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(c,d,e){d.addClass("hide"),a.load("vendor/libs/screenfull.min.js").then(function(){screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&d.removeClass("hide"),d.on("click",function(){var a;e.target&&(a=$(e.target)[0]),screenfull.toggle(a)}),b.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?d.addClass("active"):d.removeClass("active")})})}}}]),angular.module("ui.jq",["ui.load"]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","JQ_CONFIG","uiLoad","$timeout",function(a,b,c,d){return{restrict:"A",compile:function(e,f){if(!angular.isFunction(e[f.uiJq])&&!b[f.uiJq])throw new Error('ui-jq: The "'+f.uiJq+'" function does not exist');var g=a&&a[f.uiJq];return function(a,e,f){function h(){var b=[];return f.uiOptions?(b=a.$eval("["+f.uiOptions+"]"),angular.isObject(g)&&angular.isObject(b[0])&&(b[0]=angular.extend({},g,b[0]))):g&&(b=[g]),b}function i(){d(function(){e[f.uiJq].apply(e,h())},0,!1)}function j(){f.uiRefresh&&a.$watch(f.uiRefresh,function(){i()})}f.ngModel&&e.is("select,input,textarea")&&e.bind("change",function(){e.trigger("input")}),b[f.uiJq]?c.load(b[f.uiJq]).then(function(){i(),j()})["catch"](function(){}):(i(),j())}}}}]),angular.module("app").directive("uiModule",["MODULE_CONFIG","uiLoad","$compile",function(a,b,c){return{restrict:"A",compile:function(d){var e=d.contents().clone();return function(d,f,g){f.contents().remove(),b.load(a[g.uiModule]).then(function(){c(e)(d,function(a){f.append(a)})})}}}}]),angular.module("app").directive("uiNav",["$timeout",function(){return{restrict:"AC",link:function(a,b){var c,d=$(window),e=768,f=$(".app-aside"),g=".dropdown-backdrop";b.on("click","a",function(a){c&&c.trigger("mouseleave.nav");var b=$(this);b.parent().siblings(".active").toggleClass("active"),b.next().is("ul")&&b.parent().toggleClass("active")&&a.preventDefault(),b.next().is("ul")||d.width()<e&&$(".app-aside").removeClass("show off-screen")}),b.on("mouseenter","a",function(a){if(c&&c.trigger("mouseleave.nav"),$("> .nav",f).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||d.width()<e||$(".app-aside-dock").length)){var b,h=$(a.target),i=$(window).height(),j=50,k=150;!h.is("a")&&(h=h.closest("a")),h.next().is("ul")&&(c=h.next(),h.parent().addClass("active"),b=h.parent().position().top+j,c.css("top",b),b+c.height()>i&&c.css("bottom",0),b+k>i&&c.css("bottom",i-b-j).css("top","auto"),c.appendTo(f),c.on("mouseleave.nav",function(){$(g).remove(),c.appendTo(h.parent()),c.off("mouseleave.nav").css("top","auto").css("bottom","auto"),h.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(a){a&&a.trigger("mouseleave.nav")}))}}),f.on("mouseleave",function(){c&&c.trigger("mouseleave.nav"),$("> .nav",f).remove()})}}}]),angular.module("app").directive("uiScroll",["$location","$anchorScroll",function(a,b){return{restrict:"AC",link:function(c,d,e){d.on("click",function(){a.hash(e.uiScroll),b()})}}}]),angular.module("app").directive("uiShift",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){function e(){a(function(){var a=d.uiShift,b=d.target;h.hasClass("in")||h[a](b).addClass("in")})}function f(){g&&g.prepend(c),!g&&h.insertAfter(j),h.removeClass("in")}var g,h=$(c),i=$(window),j=h.prev(),k=i.width();!j.length&&(g=h.parent()),768>k&&e()||f(),i.resize(function(){k!==i.width()&&a(function(){i.width()<768&&e()||f(),k=i.width()})})}}}]),angular.module("app").directive("uiToggleClass",["$timeout","$document",function(){return{restrict:"AC",link:function(a,b,c){b.on("click",function(a){function d(a,b){for(var c=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),d=" "+$(b)[0].className+" ";c.test(d);)d=d.replace(c," ");$(b)[0].className=$.trim(d)}a.preventDefault();var e=c.uiToggleClass.split(","),f=c.target&&c.target.split(",")||Array(b),g=0;angular.forEach(e,function(a){var b=f[f.length&&g];-1!==a.indexOf("*")&&d(a,b),$(b).toggleClass(a),g++}),$(b).toggleClass("active")})}}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(b){return angular.isString(b)?void a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})}):angular.isArray(b)?void angular.forEach(b,function(b){a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})})}):void(angular.isObject(b)&&angular.forEach(b,function(b,c){angular.isString(b)&&a.$watch(b,function(){g[c](d.$modelValue)}),angular.isArray(b)&&angular.forEach(b,function(b){a.$watch(b,function(){g[c](d.$modelValue)})})}))}var f,g={},h=a.$eval(c.uiValidate);h&&(angular.isString(h)&&(h={validator:h}),angular.forEach(h,function(b,c){f=function(e){var f=a.$eval(b,{$value:e});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){d.$setValidity(c,!0)},function(){d.$setValidity(c,!1)}),e):f?(d.$setValidity(c,!0),e):(d.$setValidity(c,!1),e)},g[c]=f,d.$formatters.push(f),d.$parsers.push(f)}),c.uiValidateWatch&&e(a.$eval(c.uiValidateWatch)))}}}),angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout",function(a,b,c){var d=[],e=!1,f=b.defer();this.load=function(a){a=angular.isArray(a)?a:a.split(/\s+/);var b=this;return e||(e=f.promise),angular.forEach(a,function(a){e=e.then(function(){return a.indexOf(".css")>=0?b.loadCSS(a):b.loadScript(a)})}),f.resolve(),e},this.loadScript=function(e){if(d[e])return d[e].promise;var f=b.defer(),g=a[0].createElement("script");return g.src=e,g.onload=function(a){c(function(){f.resolve(a)})},g.onerror=function(a){c(function(){f.reject(a)})},a[0].body.appendChild(g),d[e]=f,f.promise},this.loadCSS=function(e){if(d[e])return d[e].promise;var f=b.defer(),g=a[0].createElement("link");return g.rel="stylesheet",g.type="text/css",g.href=e,g.onload=function(a){c(function(){f.resolve(a)})},g.onerror=function(a){c(function(){f.reject(a)})},a[0].head.appendChild(g),d[e]=f,f.promise}}]),angular.module("app").controller("bookShelfCtrl",["$scope","$window","$rootScope","$modal","toaster","appConfig","bookshelfFactory",function(a,b,c,d,e,f,g){a.myPromise=g.getBooks().success(function(b){a.bookList=b,e.pop("success","Successfully Loading books")}).error(function(){e.pop("error","Error while loading books.")}),a.editBook=function(b){d.open({templateUrl:"tpl/bookshelf/edit_book_model.html",controller:"editBookController",size:"lg",resolve:{book:function(){return a.bookList[b]}}})},a.open=function(b){var c=d.open({templateUrl:"tpl/bookshelf/delete_book_model.html",controller:"deleteBookCtrl",size:"xs"});c.result.then(function(){g.deleteBook({id:a.bookList[b].id}).success(function(){a.bookList.splice(b,1),e.pop("success","Successfully Deleted Your Book.")})},function(){})},a.canvasBook=function(b){window.location="/#/book/canvas/"+a.bookList[b].id},a.layoutView="thumbnail"}]),angular.module("app").controller("deleteBookCtrl",function(a,b){a.cancel=function(){b.dismiss("cancel")},a.deleteBook=function(){b.close()}}),angular.module("app").controller("editBookController",function(a,b,c,d,e,f,g){a.book=d,a.bookPermissions=f.bookPermissions,a.bookSubType=f.bookSubType,a.currencyType=f.currencyType,a.cancel=function(){b.dismiss("cancel")},a.tabletZip=function(){a.myPromise=g.tabletZip(a.book.id).then(function(b){a.book.zip_tablet=b.data.zip_tablet,e.pop("success","Successfully converted your zip.")})},a.iphoneZip=function(){a.myPromise=g.iphoneZip(a.book.id).then(function(b){a.book.zip_iphone=b.data.zip_iphone,e.pop("success","Successfully converted your zip.")})},a.updateBook=function(){a.book.ImageBoxArray&&(a.book.imageData=a.book.ImageBoxArray.Image,a.book.image=a.book.ImageBoxArray.ImageName),a.book.bookID=a.book.id,a.myPromise=g.updateBook(a.book).success(function(c){a.message="Saved Successfully",a.book=c,b.close(),e.pop("success","Successfully Updated Your Book.")}).error(function(){a.message="Unexpected Error",e.pop("error","Unexpected Error.")})}}),angular.module("app").controller("FullcalendarCtrl",["$scope",function(a){var b=new Date,c=b.getDate(),d=b.getMonth(),e=b.getFullYear();a.eventSource={url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},a.events=[{title:"All Day Event",start:new Date(e,d,1),className:["b-l b-2x b-info"],location:"New York",info:"This a all day event that will start from 9:00 am to 9:00 pm, have fun!"},{title:"Dance class",start:new Date(e,d,3),end:new Date(e,d,4,9,30),allDay:!1,className:["b-l b-2x b-danger"],location:"London",info:"Two days dance training class."},{title:"Game racing",start:new Date(e,d,6,16,0),className:["b-l b-2x b-info"],location:"Hongkong",info:"The most big racing of this year."},{title:"Soccer",start:new Date(e,d,8,15,0),className:["b-l b-2x b-info"],location:"Rio",info:"Do not forget to watch."},{title:"Family",start:new Date(e,d,9,19,30),end:new Date(e,d,9,20,30),className:["b-l b-2x b-success"],info:"Family party"},{title:"Long Event",start:new Date(e,d,c-5),end:new Date(e,d,c-2),className:["bg-success bg"],location:"HD City",info:"It is a long long event"},{title:"Play game",start:new Date(e,d,c-1,16,0),className:["b-l b-2x b-info"],location:"Tokyo",info:"Tokyo Game Racing"},{title:"Birthday Party",start:new Date(e,d,c+1,19,0),end:new Date(e,d,c+1,22,30),allDay:!1,className:["b-l b-2x b-primary"],location:"New York",info:"Party all day"},{title:"Repeating Event",start:new Date(e,d,c+4,16,0),alDay:!1,className:["b-l b-2x b-warning"],location:"Home Town",info:"Repeat every day"},{title:"Click for Google",start:new Date(e,d,28),end:new Date(e,d,29),url:"http://google.com/",className:["b-l b-2x b-primary"]},{title:"Feed cat",start:new Date(e,d+1,6,18,0),className:["b-l b-2x b-info"]}],a.precision=400,a.lastClickTime=0,a.alertOnEventClick=function(b){var c=(new Date).getTime();c-a.lastClickTime<=a.precision&&a.events.push({title:"New Event",start:b,className:["b-l b-2x b-info"]}),a.lastClickTime=c},a.alertOnDrop=function(b,c){a.alertMessage="Event Droped to make dayDelta "+c},a.alertOnResize=function(b,c){a.alertMessage="Event Resized to make dayDelta "+c},a.overlay=$(".fc-overlay"),a.alertOnMouseOver=function(b,c){a.event=b,a.overlay.removeClass("left right").find(".arrow").removeClass("left right top pull-up");var d=$(c.target).closest(".fc-event"),e=d.closest(".calendar"),f=d.offset().left-e.offset().left,g=e.width()-(d.offset().left-e.offset().left+d.width());g>a.overlay.width()?a.overlay.addClass("left").find(".arrow").addClass("left pull-up"):f>a.overlay.width()?a.overlay.addClass("right").find(".arrow").addClass("right pull-up"):a.overlay.find(".arrow").addClass("top"),0===d.find(".fc-overlay").length&&d.append(a.overlay)},a.uiConfig={calendar:{height:450,editable:!0,header:{left:"prev",center:"title",right:"next"},dayClick:a.alertOnEventClick,eventDrop:a.alertOnDrop,eventResize:a.alertOnResize,eventMouseover:a.alertOnMouseOver}},a.addEvent=function(){a.events.push({title:"New Event",start:new Date(e,d,c),className:["b-l b-2x b-info"]})},a.remove=function(b){a.events.splice(b,1)},a.changeView=function(a){$(".calendar").fullCalendar("changeView",a)},a.today=function(){$(".calendar").fullCalendar("today")},a.eventSources=[a.events]}]),angular.module("app").controller("canvasCtrl",["$scope","$modal","$log","$stateParams","$rootScope",function(a,b,c,d){{var e=d.pageId;_.map(a.pages,function(b){return b.id===e?(a.page=b,b):void 0})}a.bringBack=function(a){var b=a.additionalInfo.zIndex;a.additionalInfo.zIndex=b>0?b-1:0},a.$on("newImageElement",function(b,c){var d=a.page.ImageBoxArray;d.push(c),a.page.ImageBoxArray=d}),a.$emit("pageData",a.page),a.bringFront=function(a){a.additionalInfo.zIndex+=1},a.openModelToDeleteImage=function(d){var e=b.open({templateUrl:"tpl/canvas/delete.html",controller:function(a,b){a.cancel=function(){b.dismiss("cancel")},a.deletePage=function(){b.close()}}});e.result.then(function(){a.page.ImageBoxArray.splice(d,1)},function(){c.info("Modal dismissed at: "+new Date)})},a.openModelToUpdateImage=function(d){var e=b.open({templateUrl:"tpl/canvas/update_image.html",controller:function(a,b,c){a.ImageBoxArray={Image:""},a.ImageBoxArray.Image=c,a.cancel=function(){b.dismiss("cancel")},a.update=function(a){b.close(a.Image)}},resolve:{image:function(){return d.Image}}});e.result.then(function(b){a.page.ImageBoxArray[a.page.ImageBoxArray.indexOf(d)].Image=b},function(){c.info("Modal dismissed at: "+new Date)})},a.openModelToTouchFX=function(d){var e=b.open({templateUrl:"tpl/canvas/touchfx_model.html",controller:function(a,b,c,d){a.imageData=c,a.imageData&&a.imageData.touchfx&&a.imageData.touchfx.tap&&a.imageData.touchfx.tap.data&&(a.url=d.trustAsResourceUrl(a.imageData.touchfx.tap.data.url)),a.add=function(c){a.imageData.touchfx="SpriteTouchFx"===a.tap.touchOption?{tap:{spritecount:a.imageData.touchfx.tap.spritecount,height:c.additionalInfo.height,width:c.additionalInfo.width,loop:a.imageData.touchfx.tap.loop,sprite:c.Image,spritename:c.ImageName}}:{tap:{action:"audio",data:{title:c.ImageName,url:c.url}}},b.close()},a.cancel=function(){b.dismiss("cancel")}},resolve:{image:function(){return d}}});e.result.then(function(b){a.page.ImageBoxArray[a.page.ImageBoxArray.indexOf(d)].Image=b},function(){c.info("Modal dismissed at: "+new Date)})},a.pageFX=function(a){var d=b.open({templateUrl:"tpl/canvas/pagefx.html",controller:function(a,b,c,d){a.imagePageFx=c,a.imagePageFx&&a.imagePageFx.pagefx&&a.imagePageFx.pagefx.onload&&a.imagePageFx.pagefx.onload.data&&(a.url=d.trustAsResourceUrl(a.imagePageFx.pagefx.onload.data.url)),a.onload={},a.add=function(c){a.imagePageFx.pagefx="AudioPageFx"===a.onload.pageOption?{onload:{action:"audio",data:{title:c.ImageName,url:c.url}}}:{onload:{spritecount:a.onload.spritecount,height:c.additionalInfo.height,width:c.additionalInfo.width,loop:a.onload.loop,sprite:c.Image,spritename:c.ImageName}},b.close()},a.cancel=function(){b.dismiss("cancel")}},resolve:{image:function(){return a}}});d.result.then(function(){},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("app").factory("canvasFactory",function(a,b){var c=function(c){return a({method:"GET",url:b.apiUrl+"/rest/book/get/"+c})},d=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/order",data:c})},e=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/user/delete",data:c})},f=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/user/update",data:c})},g=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/user/create",data:c})};return{getBook:c,pageOrder:d,deletePage:e,updateCanvas:f,createPage:g}}),angular.module("app").controller("pageCtrl",["$scope","$stateParams","$rootScope","$state","$modal","$log","toaster","appConfig","canvasFactory",function(a,b,c,d,e,f,g,h,i){var j=[];a.bid=b.BookID,a.myPromise=i.getBook(b.BookID).success(function(b){j=b.pages,j.sort(sortCompare("pageNo")),a.pages=j,d.go("book.canvas.page",{pageId:a.pages[0].id})}).error(function(){g.pop("error","Error while Loading pages.")}),a.sortableOptions={stop:function(){var a=j.map(function(a){return a.id});i.pageOrder({bid:b.BookID,pages:a}).success(function(){g.pop("success","Page Order saved.")}).error(function(){g.pop("error","Error while save page orders.")})}},a.deletePage=function(c,d){i.deletePage({bookID:b.BookID,pageID:c.id}).success(function(){g.pop("success","Page successfully deletd.")}).error(function(){g.pop("error","Error while dateing page.")}),a.pages.splice(d,1)},a.game1=function(){e.open({templateUrl:"tpl/canvas/game1.html",controller:function(a,b,c){function d(a){return a.Image?'<img class="flag" src=image.Image />'+a.ImageName:a.ImageName}a.game1Page=angular.copy(c);a.game1Page.ImageBoxArray;a.draggable=[],a.droppable=[],a.select2Options={formatResult:d,formatSelection:d,escapeMarkup:function(a){return a}},a.addToDraggable=function(){a.draggable.push(a.dragSelected)},a.addToDroppable=function(){a.droppable.push(a.dropselected)},a.cancel=function(){b.dismiss("cancel")}},size:"lg",resolve:{page:function(){return a.updatedPageData}}})},a.browse=function(){var a=e.open({templateUrl:"tpl/canvas/image_model.html",controller:function(a,b){a.cancel=function(){b.dismiss("cancel")},a.addImage=function(a){b.close(a)}},size:"xs"});a.result.then(function(a){c.$broadcast("newImageElement",a)},function(){f.info("Modal dismissed at: "+new Date)})},c.$on("pageData",function(b,c){a.updatedPageData=c}),a.saveModifications=function(){function c(c){a.updatedPageData.thumbnail=c,i.updateCanvas({bookID:b.BookID,page:a.updatedPageData}).success(function(b){a.updatedPageData.thumbnail=b.thumbnail,a.myOverlay="",g.pop("success","Page updated.")}).error(function(){g.pop("error","Error while Loading pages.")})}a.myOverlay="overlay-block";var d=$(".canvasdiv").get(0);html2canvas(d,{onrendered:function(a){$(".canvas").find(".handler").remove(),$(".canvas").find(".active").removeClass();var b=a.toDataURL(),d="base64,",e=b.indexOf(d);b=b.substring(e+d.length),c(b)},proxy:h.apiUrl+"/proxy"})},a.createPage=function(){a.myPromise=i.createPage({bookID:b.BookID}).success(function(a){var b={id:a,top:0,left:0,height:768,width:1024,thumbnail:"",ImageBoxArray:[]};j.push(b),g.pop("success","New Page Created."),d.go("book.canvas.page",{pageId:b.id})}).error(function(){g.pop("error","Error while create Page.")})}}]),angular.module("app").controller("ContactCtrl",["$scope","$http","$filter",function(a,b,c){b.get("js/app/contact/contacts.json").then(function(b){a.items=b.data.items,a.item=c("orderBy")(a.items,"first")[0],a.item.selected=!0}),a.filter="",a.groups=[{name:"Coworkers"},{name:"Family"},{name:"Friends"},{name:"Partners"},{name:"Group"}],a.createGroup=function(){var b={name:"New Group"};b.name=a.checkItem(b,a.groups,"name"),a.groups.push(b)},a.checkItem=function(a,b,c){var d=0;return angular.forEach(b,function(b){if(0===b[c].indexOf(a[c])){var e=b[c].replace(a[c],"").trim();d=e?Math.max(d,parseInt(e,10)+1):1}}),a[c]+(d?" "+d:"")},a.deleteGroup=function(b){a.groups.splice(a.groups.indexOf(b),1)},a.selectGroup=function(b){angular.forEach(a.groups,function(a){a.selected=!1}),a.group=b,a.group.selected=!0,a.filter=b.name},a.selectItem=function(b){angular.forEach(a.items,function(a){a.selected=!1,a.editing=!1}),a.item=b,a.item.selected=!0},a.deleteItem=function(b){a.items.splice(a.items.indexOf(b),1),a.item=c("orderBy")(a.items,"first")[0],a.item&&(a.item.selected=!0)},a.createItem=function(){var b={group:"Friends",avatar:"img/a0.jpg"};a.items.push(b),a.selectItem(b),a.item.editing=!0},a.editItem=function(a){a&&a.selected&&(a.editing=!0)},a.doneEditing=function(a){a.editing=!1}}]),angular.module("app").controller("cueEditController",["$scope","$modalInstance","cue","cueFactory",function(a,b,c,d){var e=angular.copy(c);a.cue=c;var e=angular.copy(c);a.onBGSelect=function(b){var c=b[0];if(/\.(jpg|jpeg|png)$/i.test(c.name)){var e=new FormData;e.append("content",c);var f=new FileReader;f.onload=function(){return function(b){a.$apply(function(){a.cue.background_url_data=b.target.result})}}(c),f.readAsDataURL(c),d.uploadImage(e).success(function(b){console.log(b),a.cue.background_url=b.url}).error(function(a){console.log(a)})}else toaster.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.onBGWideSelect=function(b){var c=b[0];if(/\.(jpg|jpeg|png)$/i.test(c.name)){var e=new FormData;e.append("content",c);var f=new FileReader;f.onload=function(){return function(b){a.$apply(function(){a.cue.background_url_wide_data=b.target.result})}}(c),f.readAsDataURL(c),d.uploadImage(e).success(function(b){a.cue.background_url_wide=b.url}).error(function(a){console.log(a)})}else toaster.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimagewide"]').val("")},a.updateCue=function(a,c){console.log(a,c),a.cue_id=a.id,b.close(a)},a.resetCue=function(){a.cue=angular.copy(e),a.cue.text=e.text},a.cancel=function(){a.cue=angular.copy(e),b.dismiss("cancel")}}]),angular.module("app").factory("cueFactory",["$http","appConfig",function(a,b){function c(c,d){var e=c+d-1,f=b.apiUrl+"/cue/get/all/"+c+"/"+e;return console.log(f),a({method:"GET",url:f})}function d(c){var d=b.apiUrl+"/cue/create";return a({method:"POST",url:d,data:c})}function e(c){var d=b.apiUrl+"/file/upload";return a.post(d,c,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function f(c){var d=b.apiUrl+"/cue/update";return a({method:"POST",url:d,data:c})}function g(c){var d=b.apiUrl+"/cue/delete";return a({method:"POST",url:d,data:c})}return{getCueList:c,createCue:d,uploadImage:e,updateCue:f,deleteCue:g}}]),angular.module("app").controller("cueController",["$scope","$modal","toaster","appConfig","cueFactory",function(a,b,c,d,e){var f=0,g=20;a.cueData=[],a.test="Helo world",a.setTest=function(){a.test="my test"},this.message="hello",a.getCues=function(b){a.scrollClass="infinite-scroll-block",a.myPromise=e.getCueList(b,g).success(function(d){a.cueData=a.cueData.concat(d.result),b||c.pop("success","Successfully Loading cues")}).error(function(){c.pop("error","Error while loading books.")})},a.editCue=function(d,f){var g=angular.copy(d),h=b.open({templateUrl:"tpl/cue/cue_edit.html",controller:"cueEditController",size:"lg",resolve:{cue:function(){return g}}});h.result.then(function(b){e.updateCue(b).success(function(){a.cueData[f]=b,c.pop("success","Successfully updated the cue")}).error(function(a){console.log(a)})},function(){console.log("Modal dismissed at: "+new Date)})},a.openDeleteCueModal=function(d,f,g){var h=b.open({templateUrl:"myDeleteContent.html",backdrop:"static",size:"sm",controller:"cueDeleteInstanceCtrl",resolve:{cue:function(){return d},flag:function(){return g}}});h.result.then(function(b){console.log(b),e.deleteCue(b).success(function(){c.pop("success","Successfully deleted the cue"),a.cueData.splice(f,1)}).error(function(){c.pop("error","Error while deleting the cue")
})},function(){console.log("Modal dismissed at: "+new Date)})},a.getPagination=function(){a.getCues(f),f+=g},a.log=[],a.superheroes=["Spiderman"],a.tagAdded=function(){},a.tagRemoved=function(){}}]),angular.module("app").controller("cueCreateController",["$scope","cueFactory","toaster","imageBrowse",function(a,b,c,d){console.log("in cueCreatCtrl"),a.cue={text:"",bgcolor:"",type:"",background_url:"",background_url_data:"",background_url_wide:"",background_url_wide_data:""};var e=angular.copy(a.cue);d.onBGSelect(),a.onBGSelect=function(d){var e=d[0];if(console.log(e,"file"),/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e),f.append("key","cue/"+e.name);var g=new FileReader;g.onload=function(){return function(b){a.$apply(function(){a.cue.background_url_data=b.target.result})}}(e),g.readAsDataURL(e),b.uploadImage(f).success(function(b){console.log(b),a.cue.background_url=b.url}).error(function(a){console.log(a)})}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.onBGWideSelect=function(d){var e=d[0];if(/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e);var g=new FileReader;g.onload=function(){return function(b){a.$apply(function(){a.cue.background_url_wide_data=b.target.result})}}(e),g.readAsDataURL(e),b.uploadImage(f).success(function(b){a.cue.background_url_wide=b.url}).error(function(a){console.log(a)})}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimagewide"]').val("")},a.addCue=function(d){a.myPromise=b.createCue(d).success(function(b){console.log(b),c.pop("success","cues created sucessfuly."),a.resetCue()}).error(function(){c.pop("error","Error while creating cues.")})},a.resetCue=function(){a.cue=angular.copy(e),a.addForm.$setPristine()}}]),angular.module("app").controller("cueDeleteInstanceCtrl",["$scope","$modalInstance","cue","flag",function(a,b,c,d){a.flag=d,a.deleteItem=function(){var a={id:c.id,hard:d};b.close(a)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").factory("mails",["$http",function(a){var b="js/app/mail/mails.json",c=a.get(b).then(function(a){return a.data.mails}),d={};return d.all=function(){return c},d.get=function(a){return c.then(function(b){for(var c=0;c<b.length;c++)if(b[c].id===a)return b[c];return null})},d}]),angular.module("app").controller("MailCtrl",["$scope",function(a){a.folds=[{name:"Inbox",filter:""},{name:"Starred",filter:"starred"},{name:"Sent",filter:"sent"},{name:"Important",filter:"important"},{name:"Draft",filter:"draft"},{name:"Trash",filter:"trash"}],a.labels=[{name:"Angular",filter:"angular",color:"#23b7e5"},{name:"Bootstrap",filter:"bootstrap",color:"#7266ba"},{name:"Client",filter:"client",color:"#fad733"},{name:"Work",filter:"work",color:"#27c24c"}],a.addLabel=function(){a.labels.push({name:a.newLabel.name,filter:angular.lowercase(a.newLabel.name),color:"#ccc"}),a.newLabel.name=""},a.labelClass=function(a){return{"b-l-info":"angular"===angular.lowercase(a),"b-l-primary":"bootstrap"===angular.lowercase(a),"b-l-warning":"client"===angular.lowercase(a),"b-l-success":"work"===angular.lowercase(a)}}}]),angular.module("app").controller("MailListCtrl",["$scope","mails","$stateParams",function(a,b,c){a.fold=c.fold,b.all().then(function(b){a.mails=b})}]),angular.module("app").controller("MailDetailCtrl",["$scope","mails","$stateParams",function(a,b,c){b.get(c.mailId).then(function(b){a.mail=b})}]),angular.module("app").controller("MailNewCtrl",["$scope",function(a){a.mail={to:"",subject:"",content:""},a.tolist=[{name:"James",email:"james@gmail.com"},{name:"Luoris Kiso",email:"luoris.kiso@hotmail.com"},{name:"Lucy Yokes",email:"lucy.yokes@gmail.com"}]}]),angular.module("app").directive("labelColor",function(){return function(a,b,c){b.css({color:c.color})}});var loadGoogleMaps=function(a){var b,c=a.now();return function(d,e,f){if(b)return b;var g=a.Deferred(),h=function(){g.resolve(window.google&&google.maps?google.maps:!1)},i="loadGoogleMaps_"+c++,j=a.extend({sensor:!1},e?{key:e}:{},f?{language:f}:{});return window.google&&google.maps?h():window.google&&google.load?google.load("maps",d||3,{other_params:a.param(j),callback:h}):(j=a.extend(j,{v:d||3,callback:i}),window[i]=function(){h(),setTimeout(function(){try{delete window[i]}catch(a){}},20)},a.ajax({dataType:"script",data:j,url:"http://maps.google.com/maps/api/js"})),b=g.promise()}}(jQuery);angular.module("app").controller("MapCtrl",["$scope",function(a){a.myMarkers=[],a.mapOptions={center:new google.maps.LatLng(35.784,-78.67),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},a.addMarker=function(b,c){a.myMarkers.push(new google.maps.Marker({map:a.myMap,position:c[0].latLng}))},a.setZoomMessage=function(b){a.zoomMessage="You just zoomed to "+b+"!",console.log(b,"zoomed")},a.openMarkerInfo=function(b){a.currentMarker=b,a.currentMarkerLat=b.getPosition().lat(),a.currentMarkerLng=b.getPosition().lng(),a.myInfoWindow.open(a.myMap,b)},a.setMarkerPosition=function(a,b,c){a.setPosition(new google.maps.LatLng(b,c))}}]),angular.module("app").directive("uiEvent",["$parse",function(a){return function(b,c,d){var e=b.$eval(d.uiEvent);angular.forEach(e,function(d,e){var f=a(d);c.bind(e,function(a){var c=Array.prototype.slice.call(arguments);c=c.splice(1),f(b,{$event:a,$params:c}),b.$$phase||b.$apply()})})}}]),function(){function a(a,b,c,d){angular.forEach(b.split(" "),function(b){window.google.maps.event.addListener(c,b,function(c){d.triggerHandler("map-"+b,c),a.$$phase||a.$apply()})})}function b(b,c){angular.module("app").directive(b,[function(){return{restrict:"A",link:function(d,e,f){d.$watch(f[b],function(b){b&&a(d,c,b,e)})}}}])}angular.module("app").value("uiMapConfig",{}),angular.module("app").directive("uiMap",["uiMapConfig","$parse",function(b,c){var d="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",e=b||{};return{restrict:"A",link:function(b,f,g){var h=angular.extend({},e,b.$eval(g.uiOptions)),i=new window.google.maps.Map(f[0],h),j=c(g.uiMap);j.assign(b,i),a(b,d,i,f)}}}]),angular.module("app").value("uiMapInfoWindowConfig",{}),angular.module("app").directive("uiMapInfoWindow",["uiMapInfoWindowConfig","$parse","$compile",function(b,c,d){var e="closeclick content_change domready position_changed zindex_changed",f=b||{};return{link:function(b,g,h){var i=angular.extend({},f,b.$eval(h.uiOptions));i.content=g[0];var j=c(h.uiMapInfoWindow),k=j(b);k||(k=new window.google.maps.InfoWindow(i),j.assign(b,k)),a(b,e,k,g),g.replaceWith("<div></div>");var l=k.open;k.open=function(a,c,e,f,h,i){d(g.contents())(b),l.call(k,a,c,e,f,h,i)}}}}]),b("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),b("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),b("uiMapGroundOverlay","click dblclick")}(),angular.module("app").controller("NoteCtrl",["$scope","$http",function(a,b){b.get("js/app/note/notes.json").then(function(b){a.notes=b.data.notes,a.note=a.notes[0],a.notes[0].selected=!0}),a.colors=["primary","info","success","warning","danger","dark"],a.createNote=function(){var b={content:"New note",color:a.colors[Math.floor(3*Math.random())],date:Date.now()};a.notes.push(b),a.selectNote(b)},a.deleteNote=function(b){a.notes.splice(a.notes.indexOf(b),1),b.selected&&(a.note=a.notes[0],a.notes.length&&(a.notes[0].selected=!0))},a.selectNote=function(b){angular.forEach(a.notes,function(a){a.selected=!1}),a.note=b,a.note.selected=!0}}]);var angularSkycons=angular.module("angular-skycons",[]);angularSkycons.directive("skycon",function(){return{restrict:"E",replace:!0,scope:{icon:"=",size:"="},link:function(a,b,c){var d=document.createElement("canvas");d.className=c["class"]?c["class"]:"";var e={};e.color=c.color?c.color:"black";var f=new Skycons(e);a.$watch("size",function(b){b?(d.height=b,d.width=b):(d.height=a.size||64,d.width=a.size||64)},!0),a.$watch("icon",function(){f.set(d,a.icon)},!0),f.play(),8===b[0].nodeType?b.replaceWith(d):b[0].appendChild(d),a.$on("$destroy",function(){f.remove(d),0===f.list.length&&f.pause(d)})}}}),angular.module("app").controller("WeatherCtrl",["$scope","yahooApi","geoApi",function(a,b,c){a.userSearchText="",a.search={},a.forcast={},a.place={},a.data={},c.then(function(b){a.userSearchText=b.data.city+", "+b.data.country_code,a.getLocations()}),a.getLocations=function(){var c='select * from geo.places where text="" + $scope.userSearchText + ""';b.query({q:c,format:"json"},{},function(b){a.search=b,1!==b.query.count||b.query.results.channel||a.getWeather(b.query.results.place.woeid,b.query.results.place.name,b.query.results.place.country.content)})},a.getWeather=function(c,d,e){a.place.city=d,a.place.country=e;var f="select item from weather.forecast where woeid="+c;b.query({q:f,format:"json"},{},function(b){b.query.results.channel.item.forecast.forEach(function(b){b.icon=a.getCustomIcon(b.code)}),b.query.results.channel.item.condition.icon=a.getCustomIcon(b.query.results.channel.item.condition.code),a.data=b})},a.getCustomIcon=function(a){switch(a){case"0":case"1":case"2":case"24":case"25":return"wind";case"5":case"6":case"7":case"18":return"sleet";case"3":case"4":case"8":case"9":case"10":case"11":case"12":case"35":case"37":case"38":case"39":case"40":case"45":case"47":return"rain";case"13":case"14":case"15":case"16":case"17":case"41":case"42":case"43":case"46":return"snow";case"19":case"20":case"21":case"22":case"23":return"fog";case"26":case"27":case"28":case"44":return"cloudy";case"29":return"partly-cloudy-night";case"30":return"partly-cloudy-day";case"31":case"33":return"clear-night";case"32":case"34":case"36":return"clear-day";default:return""}}}]),angular.module("app").factory("yahooApi",["$resource",function(a){return a("http://query.yahooapis.com/v1/public/yql",{},{query:{method:"GET",isArray:!1}})}]),angular.module("app").factory("geoApi",["$http",function(a){return a.jsonp("http://muslimsalat.com/daily.json?callback=JSON_CALLBACK")}]),function(a){function b(a,b,c,d){a.beginPath(),a.arc(b,c,d,0,s,!1),a.fill()}function c(a,b,c,d,e){a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.stroke()}function d(a,c,d,e,f,g,h,i){var j=Math.cos(c*s),k=Math.sin(c*s);i-=h,b(a,d-k*f,e+j*g+.5*i,h+(1-.5*j)*i)}function e(a,b,c,e,f,g,h,i){var j;for(j=5;j--;)d(a,b+j/5,c,e,f,g,h,i)}function f(a,b,c,d,f,g,h){b/=3e4;var i=.21*f,j=.12*f,k=.24*f,l=.28*f;a.fillStyle=h,e(a,b,c,d,i,j,k,l),a.globalCompositeOperation="destination-out",e(a,b,c,d,i,j,k-g,l-g),a.globalCompositeOperation="source-over"}function g(a,b,d,e,f,g,h){b/=12e4;var i,j,k,l,m=.25*f-.5*g,n=.32*f+.5*g,o=.5*f-.5*g;for(a.strokeStyle=h,a.lineWidth=g,a.lineCap="round",a.lineJoin="round",a.beginPath(),a.arc(d,e,m,0,s,!1),a.stroke(),i=8;i--;)j=(b+i/8)*s,k=Math.cos(j),l=Math.sin(j),c(a,d+k*n,e+l*n,d+k*o,e+l*o)}function h(a,b,c,d,e,f,g){b/=15e3;var h=.29*e-.5*f,i=.05*e,j=Math.cos(b*s),k=j*s/-16;a.strokeStyle=g,a.lineWidth=f,a.lineCap="round",a.lineJoin="round",c+=j*i,a.beginPath(),a.arc(c,d,h,k+s/8,k+7*s/8,!1),a.arc(c+Math.cos(k)*h*t,d+Math.sin(k)*h*t,h,k+5*s/8,k+3*s/8,!0),a.closePath(),a.stroke()}function i(a,b,c,d,e,f,g){b/=1350;var h,i,j,k,l=.16*e,m=11*s/12,n=7*s/12;for(a.fillStyle=g,h=4;h--;)i=(b+h/4)%1,j=c+(h-1.5)/1.5*(1===h||2===h?-1:1)*l,k=d+i*i*e,a.beginPath(),a.moveTo(j,k-1.5*f),a.arc(j,k,.75*f,m,n,!1),a.fill()}function j(a,b,d,e,f,g,h){b/=750;var i,j,k,l,m=.1875*f;for(a.strokeStyle=h,a.lineWidth=.5*g,a.lineCap="round",a.lineJoin="round",i=4;i--;)j=(b+i/4)%1,k=Math.floor(d+(i-1.5)/1.5*(1===i||2===i?-1:1)*m)+.5,l=e+j*f,c(a,k,l-1.5*g,k,l+1.5*g)}function k(a,b,d,e,f,g,h){b/=3e3;var i,j,k,l,m=.16*f,n=.75*g,o=b*s*.7,p=Math.cos(o)*n,q=Math.sin(o)*n,r=o+s/3,t=Math.cos(r)*n,u=Math.sin(r)*n,v=o+2*s/3,w=Math.cos(v)*n,x=Math.sin(v)*n;for(a.strokeStyle=h,a.lineWidth=.5*g,a.lineCap="round",a.lineJoin="round",i=4;i--;)j=(b+i/4)%1,k=d+Math.sin((j+i/4)*s)*m,l=e+j*f,c(a,k-p,l-q,k+p,l+q),c(a,k-t,l-u,k+t,l+u),c(a,k-w,l-x,k+w,l+x)}function l(a,b,c,d,f,g,h){b/=3e4;var i=.21*f,j=.06*f,k=.21*f,l=.28*f;a.fillStyle=h,e(a,b,c,d,i,j,k,l),a.globalCompositeOperation="destination-out",e(a,b,c,d,i,j,k-g,l-g),a.globalCompositeOperation="source-over"}function m(a,b,c,d,e,f,g){var h=e/8,i=h/3,j=2*i,k=b%1*s,l=Math.cos(k),m=Math.sin(k);a.fillStyle=g,a.strokeStyle=g,a.lineWidth=f,a.lineCap="round",a.lineJoin="round",a.beginPath(),a.arc(c,d,h,k,k+Math.PI,!1),a.arc(c-i*l,d-i*m,j,k+Math.PI,k,!1),a.arc(c+j*l,d+j*m,i,k+Math.PI,k,!0),a.globalCompositeOperation="destination-out",a.fill(),a.globalCompositeOperation="source-over",a.stroke()}function n(a,b,c,d,e,f,g,h,i){b/=2500;var j,k,l,n,o=u[g],p=(b+g-v[g].start)%h,q=(b+g-v[g].end)%h,r=(b+g)%h;if(a.strokeStyle=i,a.lineWidth=f,a.lineCap="round",a.lineJoin="round",1>p){if(a.beginPath(),p*=o.length/2-1,j=Math.floor(p),p-=j,j*=2,j+=2,a.moveTo(c+(o[j-2]*(1-p)+o[j]*p)*e,d+(o[j-1]*(1-p)+o[j+1]*p)*e),1>q){for(q*=o.length/2-1,k=Math.floor(q),q-=k,k*=2,k+=2,n=j;n!==k;n+=2)a.lineTo(c+o[n]*e,d+o[n+1]*e);a.lineTo(c+(o[k-2]*(1-q)+o[k]*q)*e,d+(o[k-1]*(1-q)+o[k+1]*q)*e)}else for(n=j;n!==o.length;n+=2)a.lineTo(c+o[n]*e,d+o[n+1]*e);a.stroke()}else if(1>q){for(a.beginPath(),q*=o.length/2-1,k=Math.floor(q),q-=k,k*=2,k+=2,a.moveTo(c+o[0]*e,d+o[1]*e),n=2;n!==k;n+=2)a.lineTo(c+o[n]*e,d+o[n+1]*e);a.lineTo(c+(o[k-2]*(1-q)+o[k]*q)*e,d+(o[k-1]*(1-q)+o[k+1]*q)*e),a.stroke()}1>r&&(r*=o.length/2-1,l=Math.floor(r),r-=l,l*=2,l+=2,m(a,b,c+(o[l-2]*(1-r)+o[l]*r)*e,d+(o[l-1]*(1-r)+o[l+1]*r)*e,e,f,i))}var o,p;!function(){var b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame;b&&c?(o=function(a){function c(){d.value=b(c),a()}var d={value:null};return c(),d},p=function(a){c(a.value)}):(o=setInterval,p=clearInterval)}();var q=500,r=.08,s=2*Math.PI,t=2/Math.sqrt(2),u=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],v=[{start:.36,end:.11},{start:.56,end:.16}],w=function(a){this.list=[],this.interval=null,this.color=a&&a.color?a.color:"black",this.resizeClear=!(!a||!a.resizeClear)};w.CLEAR_DAY=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,f=Math.min(d,e);g(a,b,.5*d,.5*e,f,f*r,c)},w.CLEAR_NIGHT=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,f=Math.min(d,e);h(a,b,.5*d,.5*e,f,f*r,c)},w.PARTLY_CLOUDY_DAY=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,h=Math.min(d,e);g(a,b,.625*d,.375*e,.75*h,h*r,c),f(a,b,.375*d,.625*e,.75*h,h*r,c)},w.PARTLY_CLOUDY_NIGHT=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);h(a,b,.667*d,.375*e,.75*g,g*r,c),f(a,b,.375*d,.625*e,.75*g,g*r,c)},w.CLOUDY=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);f(a,b,.5*d,.5*e,g,g*r,c)},w.RAIN=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);i(a,b,.5*d,.37*e,.9*g,g*r,c),f(a,b,.5*d,.37*e,.9*g,g*r,c)},w.SLEET=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);j(a,b,.5*d,.37*e,.9*g,g*r,c),f(a,b,.5*d,.37*e,.9*g,g*r,c)},w.SNOW=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);k(a,b,.5*d,.37*e,.9*g,g*r,c),f(a,b,.5*d,.37*e,.9*g,g*r,c)},w.WIND=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,f=Math.min(d,e);n(a,b,.5*d,.5*e,f,f*r,0,2,c),n(a,b,.5*d,.5*e,f,f*r,1,2,c)},w.FOG=function(a,b,d){var e=a.canvas.width,f=a.canvas.height,g=Math.min(e,f),h=g*r;l(a,b,.5*e,.32*f,.75*g,h,d),b/=5e3;var i=Math.cos(b*s)*g*.02,j=Math.cos((b+.25)*s)*g*.02,k=Math.cos((b+.5)*s)*g*.02,m=Math.cos((b+.75)*s)*g*.02,n=.936*f,o=Math.floor(n-.5*h)+.5,p=Math.floor(n-2.5*h)+.5;a.strokeStyle=d,a.lineWidth=h,a.lineCap="round",a.lineJoin="round",c(a,i+.2*e+.5*h,o,j+.8*e-.5*h,o),c(a,k+.2*e+.5*h,p,m+.8*e-.5*h,p)},w.prototype={_determineDrawingFunction:function(a){return"string"==typeof a&&(a=w[a.toUpperCase().replace(/-/g,"_")]||null),a},add:function(a,b){var c;"string"==typeof a&&(a=document.getElementById(a)),null!==a&&(b=this._determineDrawingFunction(b),"function"==typeof b&&(c={element:a,context:a.getContext("2d"),drawing:b},this.list.push(c),this.draw(c,q)))},set:function(a,b){var c;for("string"==typeof a&&(a=document.getElementById(a)),c=this.list.length;c--;)if(this.list[c].element===a)return this.list[c].drawing=this._determineDrawingFunction(b),void this.draw(this.list[c],q);this.add(a,b)},remove:function(a){var b;for("string"==typeof a&&(a=document.getElementById(a)),b=this.list.length;b--;)if(this.list[b].element===a)return void this.list.splice(b,1)},draw:function(a,b){var c=a.context.canvas;this.resizeClear?c.width=c.width:a.context.clearRect(0,0,c.width,c.height),a.drawing(a.context,b,this.color)},play:function(){var a=this;this.pause(),this.interval=o(function(){var b,c=Date.now();for(b=a.list.length;b--;)a.draw(a.list[b],c)},1e3/60)},pause:function(){this.interval&&(p(this.interval),this.interval=null)}},a.Skycons=w}(this),angular.module("app").factory("browseFactory",function(a,b){var c=function(c){return a({method:"POST",url:b.apiUrl+"/rest/cloud/store",data:c,headers:{"Content-Type":void 0},transformRequest:angular.identity})};return{uploadTos3:c}}),angular.module("app").factory("createFactory",function(a,b){var c=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/user/create",data:c})};return{createBook:c}}),angular.module("app").factory("imageBrowse",["$http","appConfig","toaster",function(){function a(){console.log("done??, from imageBrowse")}return{onBGSelect:a}}]),angular.module("app").factory("userManagement",function(a,b){var c=function(c){return a({method:"POST",url:b.apiUrl+"/profile/user",headers:{"Content-Type":"application/json",J290EeGRFyIYRdXES7outLUbZKr:"l0FQ5cmpRcADmREyUY4DKwH3CnxejQtpb1cM"},data:c})},d=function(c){return a({method:"POST",url:b.apiUrl+"/user/action/signin",headers:{"Content-Type":"application/json",J290EeGRFyIYRdXES7outLUbZKr:"l0FQ5cmpRcADmREyUY4DKwH3CnxejQtpb1cM"},data:c})};return{signUp:c,login:d}}),angular.module("app").filter("fromNow",function(){return function(a){return moment(a).fromNow()}}),angular.module("app").controller("AccordionDemoCtrl",["$scope",function(a){a.oneAtATime=!0,a.groups=[{title:"Accordion group header - #1",content:"Dynamic group body - #1"},{title:"Accordion group header - #2",content:"Dynamic group body - #2"}],a.items=["Item 1","Item 2","Item 3"],a.addItem=function(){var b=a.items.length+1;a.items.push("Item "+b)},a.status={isFirstOpen:!0,isFirstDisabled:!1}}]),angular.module("app").controller("AlertDemoCtrl",["$scope",function(a){a.alerts=[{type:"success",msg:"Well done! You successfully read this important alert message."},{type:"info",msg:"Heads up! This alert needs your attention, but it is not super important."},{type:"warning",msg:"Warning! Best check yo self, you are not looking too good..."}],a.addAlert=function(){a.alerts.push({type:"danger",msg:"Oh snap! Change a few things up and try submitting again."})},a.closeAlert=function(b){a.alerts.splice(b,1)}}]),angular.module("app").controller("ButtonsDemoCtrl",["$scope",function(a){a.singleModel=1,a.radioModel="Middle",a.checkModel={left:!1,middle:!0,right:!1}}]),angular.module("app").controller("CarouselDemoCtrl",["$scope",function(a){a.myInterval=5e3;var b=a.slides=[];a.addSlide=function(){b.push({image:"img/c"+b.length+".jpg",text:["Carousel text #0","Carousel text #1","Carousel text #2","Carousel text #3"][b.length%4]})};for(var c=0;4>c;c++)a.addSlide()}]),angular.module("app").controller("DropdownDemoCtrl",["$scope",function(a){a.items=["The first choice!","And another choice for you.","but wait! A third!"],a.status={isopen:!1},a.toggled=function(){},a.toggleDropdown=function(b){b.preventDefault(),b.stopPropagation(),a.status.isopen=!a.status.isopen}}]),angular.module("app").controller("ModalInstanceCtrl",["$scope","$modalInstance","items",function(a,b,c){a.items=c,a.selected={item:a.items[0]},a.ok=function(){b.close(a.selected.item)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").controller("ModalDemoCtrl",["$scope","$modal","$log",function(a,b,c){a.items=["item1","item2","item3"],a.open=function(d){var e=b.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:d,resolve:{items:function(){return a.items}}});e.result.then(function(b){a.selected=b},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("app").controller("PaginationDemoCtrl",["$scope","$log",function(a,b){a.totalItems=64,a.currentPage=4,a.setPage=function(b){a.currentPage=b},a.pageChanged=function(){b.info("Page changed to: "+a.currentPage)},a.maxSize=5,a.bigTotalItems=175,a.bigCurrentPage=1}]),angular.module("app").controller("PopoverDemoCtrl",["$scope",function(a){a.dynamicPopover="Hello, World!",a.dynamicPopoverTitle="Title"}]),angular.module("app").controller("ProgressDemoCtrl",["$scope",function(a){a.max=200,a.random=function(){var b,c=Math.floor(100*Math.random()+1);b=25>c?"success":50>c?"info":75>c?"warning":"danger",a.showWarning="danger"===b||"warning"===b,a.dynamic=c,a.type=b},a.random(),a.randomStacked=function(){a.stacked=[];for(var b=["success","info","warning","danger"],c=0,d=Math.floor(4*Math.random()+1);d>c;c++){var e=Math.floor(4*Math.random());a.stacked.push({value:Math.floor(30*Math.random()+1),type:b[e]})}},a.randomStacked()}]),angular.module("app").controller("TabsDemoCtrl",["$scope",function(a){a.tabs=[{title:"Dynamic Title 1",content:"Dynamic content 1"},{title:"Dynamic Title 2",content:"Dynamic content 2",disabled:!0}]}]),angular.module("app").controller("RatingDemoCtrl",["$scope",function(a){a.rate=7,a.max=10,a.isReadonly=!1,a.hoveringOver=function(b){a.overStar=b,a.percent=100*(b/a.max)}}]),angular.module("app").controller("TooltipDemoCtrl",["$scope",function(a){a.dynamicTooltip="Hello, World!",a.dynamicTooltipText="dynamic",a.htmlTooltip="I've been made <b>bold</b>!"}]),angular.module("app").controller("TypeaheadDemoCtrl",["$scope","$http",function(a,b){a.selected=void 0,a.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],a.getLocation=function(a){return b.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,sensor:!1}}).then(function(a){var b=[];return angular.forEach(a.data.results,function(a){b.push(a.formatted_address)}),b})}}]),angular.module("app").controller("DatepickerDemoCtrl",["$scope",function(a){a.today=function(){a.dt=new Date},a.today(),a.clear=function(){a.dt=null},a.disabled=function(a,b){return"day"===b&&(0===a.getDay()||6===a.getDay())},a.toggleMin=function(){a.minDate=a.minDate?null:new Date},a.toggleMin(),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.dateOptions={formatYear:"yy",startingDay:1,"class":"datepicker"},a.initDate=new Date("2016-15-20"),a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.format=a.formats[0]}]),angular.module("app").controller("TimepickerDemoCtrl",["$scope",function(a){a.mytime=new Date,a.hstep=1,a.mstep=15,a.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},a.ismeridian=!0,a.toggleMode=function(){a.ismeridian=!a.ismeridian},a.update=function(){var b=new Date;b.setHours(14),b.setMinutes(0),a.mytime=b},a.changed=function(){},a.clear=function(){a.mytime=null}}]);