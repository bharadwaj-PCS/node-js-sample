"use strict";function sortCompare(a){return function(b,c){return parseInt(b[a],10)<parseInt(c[a],10)?-1:parseInt(b[a],10)>parseInt(c[a],10)?1:0}}function JSON_CALLBACK(){}angular.module("app",["ngAnimate","ngCookies","ngResource","ngSanitize","ngMessages","ngTouch","ngStorage","ui.router","ui.bootstrap","ngTagsInput","ui.load","ui.jq","ui.validate","oc.lazyLoad","pascalprecht.translate","colorpicker.module","cgBusy","angularFileUpload","infinite-scroll","toaster","ng-context-menu","ui.sortable","ngSanitize","ui.select","textAngular","facebook"]);var app=angular.module("app").config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(a,b,c,d){app.controller=a.register,app.directive=b.directive,app.filter=c.register,app.factory=d.factory,app.service=d.service,app.constant=d.constant,app.value=d.value}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"l10n/",suffix:".json"}),a.preferredLanguage("en"),a.useLocalStorage()}]).config(["FacebookProvider",function(a){a.init("804274249657423")}]).constant("appConfig",{apiUrl:"https://smacx-node-server-dev.herokuapp.com/api/v1",groupId:"2323435234654356",label:[{name:"Poll",value:"POLL"},{name:"Expression",value:"EXPRESSION"},{name:"Emotion",value:"EMOTION"},{name:"Background",value:"BACKGROUND"},{name:"Feedback",value:"FEEDBACK"},{name:"Sticker",value:"STICKER"},{name:"Explore",value:"EXPLORE"},{name:"Theme",value:"THEME"},{name:"Story",value:"STORY"},{name:"Background",value:"BACKGROUND"}],userId:"9ff61f0c-961c-4867-9455-d142ff081c90"});angular.module("app").constant("JQ_CONFIG",{easyPieChart:["vendor/jquery/charts/easypiechart/jquery.easy-pie-chart.js"],sparkline:["vendor/jquery/charts/sparkline/jquery.sparkline.min.js"],plot:["vendor/jquery/charts/flot/jquery.flot.min.js","vendor/jquery/charts/flot/jquery.flot.resize.js","vendor/jquery/charts/flot/jquery.flot.tooltip.min.js","vendor/jquery/charts/flot/jquery.flot.spline.js","vendor/jquery/charts/flot/jquery.flot.orderBars.js","vendor/jquery/charts/flot/jquery.flot.pie.min.js"],slimScroll:["vendor/jquery/slimscroll/jquery.slimscroll.min.js"],sortable:["vendor/jquery/sortable/jquery.sortable.js"],nestable:["vendor/jquery/nestable/jquery.nestable.js","vendor/jquery/nestable/nestable.css"],filestyle:["vendor/jquery/file/bootstrap-filestyle.min.js"],slider:["vendor/jquery/slider/bootstrap-slider.js","vendor/jquery/slider/slider.css"],chosen:["vendor/jquery/chosen/chosen.jquery.min.js","vendor/jquery/chosen/chosen.css"],TouchSpin:["vendor/jquery/spinner/jquery.bootstrap-touchspin.min.js","vendor/jquery/spinner/jquery.bootstrap-touchspin.css"],wysiwyg:["vendor/jquery/wysiwyg/bootstrap-wysiwyg.js","vendor/jquery/wysiwyg/jquery.hotkeys.js"],dataTable:["vendor/jquery/datatables/jquery.dataTables.min.js","vendor/jquery/datatables/dataTables.bootstrap.js","vendor/jquery/datatables/dataTables.bootstrap.css"],vectorMap:["vendor/jquery/jvectormap/jquery-jvectormap.min.js","vendor/jquery/jvectormap/jquery-jvectormap-world-mill-en.js","vendor/jquery/jvectormap/jquery-jvectormap-us-aea-en.js","vendor/jquery/jvectormap/jquery-jvectormap.css"],footable:["vendor/jquery/footable/footable.all.min.js","vendor/jquery/footable/footable.core.css"]}).config(["$ocLazyLoadProvider",function(a){a.config({debug:!1,events:!0,modules:[{name:"ngGrid",files:["vendor/modules/ng-grid/ng-grid.min.js","vendor/modules/ng-grid/ng-grid.min.css","vendor/modules/ng-grid/theme.css"]},{name:"ui.select",files:["vendor/modules/angular-ui-select/select.min.js","vendor/modules/angular-ui-select/select.min.css"]},{name:"angularFileUpload",files:["vendor/modules/angular-file-upload/angular-file-upload.min.js"]},{name:"ui.calendar",files:["vendor/modules/angular-ui-calendar/calendar.js"]},{name:"ngImgCrop",files:["vendor/modules/ngImgCrop/ng-img-crop.js","vendor/modules/ngImgCrop/ng-img-crop.css"]},{name:"angularBootstrapNavTree",files:["vendor/modules/angular-bootstrap-nav-tree/abn_tree_directive.js","vendor/modules/angular-bootstrap-nav-tree/abn_tree.css"]},{name:"toaster",files:["vendor/modules/angularjs-toaster/toaster.js","vendor/modules/angularjs-toaster/toaster.css"]},{name:"textAngular",files:["vendor/modules/textAngular/textAngular-sanitize.min.js","vendor/modules/textAngular/textAngular.min.js"]},{name:"vr.directives.slider",files:["vendor/modules/angular-slider/angular-slider.min.js","vendor/modules/angular-slider/angular-slider.css"]}]})}]),angular.module("app").run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("whatsay/login"),a.state("whatsay",{"abstract":!0,url:"/whatsay",template:'<div ui-view class="fade-in-right-big smooth"></div>'}).state("whatsay.login",{url:"/login",templateUrl:"tpl/page_signin.html",resolve:{deps:["uiLoad",function(a){return a.load(["js/controllers/signin.js"])}]}}).state("whatsay.signup",{url:"/signup",templateUrl:"tpl/page_signup.html",resolve:{deps:["uiLoad",function(a){return a.load(["js/controllers/signup.js"])}]}}).state("app",{"abstract":!0,url:"/app",templateUrl:"tpl/app.html",controller:""}).state("app.cue",{url:"/cue",template:'<div ui-view class="fade-in-up"><div class="bg-light lter b-b wrapper-md"><h1 class="m-n font-thin h3">Select left panel to operate.</h1></div></div>'}).state("app.cue.view",{url:"/view",views:{"":{templateUrl:"tpl/cue/cue_view.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/cue/cue.js"])}]}}).state("app.cue.create",{url:"/create",views:{"":{templateUrl:"tpl/cue/cue_create.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/cue/cue.js"])}]}}).state("app.announcement",{url:"/announcement",template:'<div ui-view class="fade-in-up"></div>'}).state("app.announcement.view",{url:"/view",views:{"":{templateUrl:"tpl/announcement/announcement_view.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/announcement/announcement.js"])}]}}).state("app.announcement.create",{url:"/create",views:{"":{templateUrl:"tpl/announcement/announcement_create.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/announcement/announcement.js"])}]}}).state("app.asset",{url:"/asset",template:'<div ui-view class="fade-in-up"></div>'}).state("app.asset.view",{url:"/view",views:{"":{templateUrl:"tpl/asset/asset_view.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/asset/asset.js"])}]}}).state("app.asset.create",{url:"/create",views:{"":{templateUrl:"tpl/asset/asset_create.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/asset/asset.js"])}]}}).state("app.category",{url:"/category",template:'<div ui-view class="fade-in-up"></div>'}).state("app.category.view",{url:"/view",views:{"":{templateUrl:"tpl/category/category_view.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/category/category.js"])}]}}).state("app.category.create",{url:"/create",views:{"":{templateUrl:"tpl/category/category_create.html"}},resolve:{deps:["uiLoad",function(a){return a.load(["js/app/category/category.js"])}]}})}]),angular.module("app").controller("AppCtrl",["$scope","$translate","$localStorage","$window",function(a,b,c,d){function e(a){var b=a.navigator.userAgent||a.navigator.vendor||a.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(b)}var f=!!navigator.userAgent.match(/MSIE/i);f&&angular.element(d.document.body).addClass("ie"),e(d)&&angular.element(d.document.body).addClass("smart"),a.app={name:"WHATSAY",version:"0.0.1",color:{primary:"#7266ba",info:"#23b7e5",success:"#27c24c",warning:"#fad733",danger:"#f05050",light:"#e8eff0",dark:"#3a3f51",black:"#1c2b36"},settings:{themeID:1,navbarHeaderColor:"bg-black",navbarCollapseColor:"bg-white-only",asideColor:"bg-black",headerFixed:!0,asideFixed:!1,asideFolded:!1,asideDock:!1,container:!1}},angular.isDefined(c.settings)?a.app.settings=c.settings:c.settings=a.app.settings,a.$watch("app.settings",function(){a.app.settings.asideDock&&a.app.settings.asideFixed&&(a.app.settings.headerFixed=!0),c.settings=a.app.settings},!0),a.lang={isopen:!1},a.langs={en:"English",tel:"తెలుగు"},a.selectLang=a.langs[b.proposedLanguage()]||"English",a.setLang=function(c){a.selectLang=a.langs[c],b.use(c),a.lang.isopen=!a.lang.isopen}}]),angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout",function(a,b,c){var d=[],e=!1,f=b.defer();this.load=function(a){a=angular.isArray(a)?a:a.split(/\s+/);var b=this;return e||(e=f.promise),angular.forEach(a,function(a){e=e.then(function(){return a.indexOf(".css")>=0?b.loadCSS(a):b.loadScript(a)})}),f.resolve(),e},this.loadScript=function(e){if(d[e])return d[e].promise;var f=b.defer(),g=a[0].createElement("script");return g.src=e,g.onload=function(a){c(function(){f.resolve(a)})},g.onerror=function(a){c(function(){f.reject(a)})},a[0].body.appendChild(g),d[e]=f,f.promise},this.loadCSS=function(e){if(d[e])return d[e].promise;var f=b.defer(),g=a[0].createElement("link");return g.rel="stylesheet",g.type="text/css",g.href=e,g.onload=function(a){c(function(){f.resolve(a)})},g.onerror=function(a){c(function(){f.reject(a)})},a[0].head.appendChild(g),d[e]=f,f.promise}}]),angular.module("app").directive("browse",function(){function a(a,b,c,d){a.onUpload=function(){a.uploadModel={url:""}};var e=$file[0],f=new FormData,g=new FileReader;f.append("file",e),/\.(jpg|jpeg|png)$/i.test(e.name)&&(g.onload=function(){return function(b){a.$apply(function(){a.uploadModel.url=b.target.result})}}(e),g.readAsDataURL(e)),a.myPromise=c.uploadTos3(f).success(function(b){if(/\.(jpg|jpeg|png)$/i.test(e.name)){{new Image}g.onload=function(){return function(){a.$apply(function(){a.uploadModel.url=b})}}(e),g.readAsDataURL(e)}d.pop("success","File Successfully Uploaded")}).error(function(){d.pop("error","Error while file upload.")})}return{restrict:"EA",scope:{uploadModel:"=",myPromise:"="},controller:a,templateUrl:"tpl/browse.html"}}),angular.module("app").directive("createBook",["$modal","$window",function(a,b){function c(a,c,d,e,f){a.book={title:"",author:"",imageData:"",zoom:0,permission:"PUBLIC",subType:"FREE",tags:[],trailPeriod:0,price:0,currency:"USD"},a.hascover=!0,a.bookPermissions=f.bookPermissions,a.bookSubType=f.bookSubType,a.currencyType=f.currencyType,a.cancel=function(){c.dismiss("cancel")},a.createBook=function(){a.book.image=a.book.ImageBoxArray.ImageName,a.book.imageData=a.book.ImageBoxArray.Image,a.myPromise=d.createBook(a.book).success(function(a){e.pop("success","Successfully created Your Book"),c.close(),b.location="/#/book/canvas/"+a.book_id}).error(function(){a.message="Unexpected Error",e.pop("error","Unexpected Error")})},a.resetForm=function(){a.book={title:"",author:"",permission:"",zoom:"",imageData:"",subType:"",tags:[]},a.hascover=!1}}return{restrict:"A",scope:{createBook:"&"},link:function(b,d){d.click(function(){a.open({templateUrl:"tpl/bookshelf/create_book_model.html",controller:c,size:"lg"})})}}}]),angular.module("app").directive("resizable",function(){return{restrict:"A",scope:{elementStyle:"="},link:function(a,b){b.on("click",function(){b.addClass("ele-active"),b.append('<div class="handler"></div>'),b.draggable({handle:".handler",containment:".canvasdiv",revert:!1,stop:function(b,c){a.$apply(function(){a.elementStyle.x=c.position.left,a.elementStyle.y=c.position.top})}}).resizable({stop:function(b,c){a.$apply(function(){a.elementStyle.width=c.size.width,a.elementStyle.height=c.size.height})},aspectRatio:!0})}),a.$on("$destroy",function(){b.removeClass("active")})}}}),angular.module("app").directive("setNgAnimate",["$animate",function(a){return{link:function(b,c,d){b.$watch(function(){return b.$eval(d.setNgAnimate,b)},function(b){a.enabled(!!b,c)})}}}]),angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll",function(a,b){return{restrict:"AC",template:'<span class="bar"></span>',link:function(a,c){c.addClass("butterbar hide"),a.$on("$stateChangeStart",function(){b(),c.removeClass("hide").addClass("active")}),a.$on("$stateChangeSuccess",function(a){a.targetScope.$watch("$viewContentLoaded",function(){c.addClass("hide").removeClass("active")})})}}}]),angular.module("app").directive("uiFocus",function(a,b){return{link:function(c,d,e){var f=b(e.uiFocus);c.$watch(f,function(b){b===!0&&a(function(){d[0].focus()})}),d.bind("blur",function(){c.$apply(f.assign(c,!1))})}}}),angular.module("app").directive("uiFullscreen",["uiLoad","$document","$window",function(a,b){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(c,d,e){d.addClass("hide"),a.load("vendor/libs/screenfull.min.js").then(function(){screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&d.removeClass("hide"),d.on("click",function(){var a;e.target&&(a=$(e.target)[0]),screenfull.toggle(a)}),b.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?d.addClass("active"):d.removeClass("active")})})}}}]),angular.module("ui.jq",["ui.load"]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","JQ_CONFIG","uiLoad","$timeout",function(a,b,c,d){return{restrict:"A",compile:function(e,f){if(!angular.isFunction(e[f.uiJq])&&!b[f.uiJq])throw new Error('ui-jq: The "'+f.uiJq+'" function does not exist');var g=a&&a[f.uiJq];return function(a,e,f){function h(){var b=[];return f.uiOptions?(b=a.$eval("["+f.uiOptions+"]"),angular.isObject(g)&&angular.isObject(b[0])&&(b[0]=angular.extend({},g,b[0]))):g&&(b=[g]),b}function i(){d(function(){e[f.uiJq].apply(e,h())},0,!1)}function j(){f.uiRefresh&&a.$watch(f.uiRefresh,function(){i()})}f.ngModel&&e.is("select,input,textarea")&&e.bind("change",function(){e.trigger("input")}),b[f.uiJq]?c.load(b[f.uiJq]).then(function(){i(),j()})["catch"](function(){}):(i(),j())}}}}]),angular.module("app").directive("uiModule",["MODULE_CONFIG","uiLoad","$compile",function(a,b,c){return{restrict:"A",compile:function(d){var e=d.contents().clone();return function(d,f,g){f.contents().remove(),b.load(a[g.uiModule]).then(function(){c(e)(d,function(a){f.append(a)})})}}}}]),angular.module("app").directive("uiNav",["$timeout",function(){return{restrict:"AC",link:function(a,b){var c,d=$(window),e=768,f=$(".app-aside"),g=".dropdown-backdrop";b.on("click","a",function(a){c&&c.trigger("mouseleave.nav");var b=$(this);b.parent().siblings(".active").toggleClass("active"),b.next().is("ul")&&b.parent().toggleClass("active")&&a.preventDefault(),b.next().is("ul")||d.width()<e&&$(".app-aside").removeClass("show off-screen")}),b.on("mouseenter","a",function(a){if(c&&c.trigger("mouseleave.nav"),$("> .nav",f).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||d.width()<e||$(".app-aside-dock").length)){var b,h=$(a.target),i=$(window).height(),j=50,k=150;!h.is("a")&&(h=h.closest("a")),h.next().is("ul")&&(c=h.next(),h.parent().addClass("active"),b=h.parent().position().top+j,c.css("top",b),b+c.height()>i&&c.css("bottom",0),b+k>i&&c.css("bottom",i-b-j).css("top","auto"),c.appendTo(f),c.on("mouseleave.nav",function(){$(g).remove(),c.appendTo(h.parent()),c.off("mouseleave.nav").css("top","auto").css("bottom","auto"),h.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(a){a&&a.trigger("mouseleave.nav")}))}}),f.on("mouseleave",function(){c&&c.trigger("mouseleave.nav"),$("> .nav",f).remove()})}}}]),angular.module("app").directive("uiScroll",["$location","$anchorScroll",function(a,b){return{restrict:"AC",link:function(c,d,e){d.on("click",function(){a.hash(e.uiScroll),b()})}}}]),angular.module("app").directive("uiShift",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){function e(){a(function(){var a=d.uiShift,b=d.target;h.hasClass("in")||h[a](b).addClass("in")})}function f(){g&&g.prepend(c),!g&&h.insertAfter(j),h.removeClass("in")}var g,h=$(c),i=$(window),j=h.prev(),k=i.width();!j.length&&(g=h.parent()),768>k&&e()||f(),i.resize(function(){k!==i.width()&&a(function(){i.width()<768&&e()||f(),k=i.width()})})}}}]),angular.module("app").directive("uiToggleClass",["$timeout","$document",function(){return{restrict:"AC",link:function(a,b,c){b.on("click",function(a){function d(a,b){for(var c=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),d=" "+$(b)[0].className+" ";c.test(d);)d=d.replace(c," ");$(b)[0].className=$.trim(d)}a.preventDefault();var e=c.uiToggleClass.split(","),f=c.target&&c.target.split(",")||Array(b),g=0;angular.forEach(e,function(a){var b=f[f.length&&g];-1!==a.indexOf("*")&&d(a,b),$(b).toggleClass(a),g++}),$(b).toggleClass("active")})}}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(b){return angular.isString(b)?void a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})}):angular.isArray(b)?void angular.forEach(b,function(b){a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})})}):void(angular.isObject(b)&&angular.forEach(b,function(b,c){angular.isString(b)&&a.$watch(b,function(){g[c](d.$modelValue)}),angular.isArray(b)&&angular.forEach(b,function(b){a.$watch(b,function(){g[c](d.$modelValue)})})}))}var f,g={},h=a.$eval(c.uiValidate);h&&(angular.isString(h)&&(h={validator:h}),angular.forEach(h,function(b,c){f=function(e){var f=a.$eval(b,{$value:e});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){d.$setValidity(c,!0)},function(){d.$setValidity(c,!1)}),e):f?(d.$setValidity(c,!0),e):(d.$setValidity(c,!1),e)},g[c]=f,d.$formatters.push(f),d.$parsers.push(f)}),c.uiValidateWatch&&e(a.$eval(c.uiValidateWatch)))}}}),angular.module("app").controller("announcementCreateController",["$scope","$modal","toaster","appConfig","announcementFactory",function(a,b,c,d,e){a.announcement={type:"Announcement",text:"",content:""};var f=angular.copy(a.announcement);console.log("in announcementCreateController"),a.minDate=new Date,a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.resetAnnouncement=function(){a.announcement=angular.copy(f),a.addForm.$setPristine()},a.createAnnouncement=function(){!a.announcement.content,a.myPromise=e.createAnnouncement(a.announcement).success(function(b){console.log(b),a.resetAnnouncement(),b.id?c.pop("success","Created announcement."):c.pop("error","Unable to create announcement.")})}}]),angular.module("app").controller("announcementViewController",["$scope","$modal","toaster","appConfig","announcementFactory",function(a,b,c,d,e){console.log("in announcementViewController"),a.layoutModel="thumbnail",a.myPromise=e.getAllAnnouncement().success(function(b){a.announcementData=b}).error(function(a){console.log(a)}),a.editAnnouncement=function(d,f){var g=angular.copy(d),h=b.open({templateUrl:"tpl/announcement/announcement_edit.html",controller:"announcementEditController",size:"lg",resolve:{announcement:function(){return g}}});h.result.then(function(b){console.log(b);var d={id:b.id,text:b.text,content:b.content};e.updateAnnouncement(d).success(function(d){console.log(d),a.announcementData[f]=b,c.pop("success","Successfully updated the announcement")}).error(function(a){console.log(a)})},function(){console.log("Modal dismissed at: "+new Date)})},a.deleteAnnouncement=function(d,f){var g=b.open({templateUrl:"myDeleteContent.html",backdrop:"static",size:"sm",controller:"announcementDeleteController",resolve:{announcement:function(){return d}}});g.result.then(function(b){console.log(b),e.deleteAnnouncement(b).success(function(b){console.log(b),a.announcementData.splice(f,1),c.pop("success","deleted successfully")}).error(function(a){console.log(a)})})},a.notifiyAnnouncement=function(a){console.log("firing notification");var d=b.open({templateUrl:"tpl/announcement/announcement_notify.html",controller:"announcementNotifyController",size:"lg",resolve:{announcement:function(){return a}}});d.result.then(function(a){console.log(a),e.notifyAnnouncement(a).success(function(){c.pop("success","sent!!")}).error(function(a){console.log(a)})},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("app").controller("announcementDeleteController",["$scope","$modalInstance","announcement",function(a,b,c){a.deleteItem=function(){var a={id:c.id};b.close(a)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").controller("announcementNotifyController",["$scope","$modalInstance","announcement","$http","announcementFactory",function(a,b,c,d,e){function f(){var b=!0;return"PLATFORM"!==a.announcement.notify_to||a.announcement.platform?"GENDER"!==a.announcement.notify_to||a.announcement.gender?"USERS"!==a.announcement.notify_to||a.userInfo.selectedUsers.length?"FRIENDS"!==a.announcement.notify_to&&"USER_GROUP"!==a.announcement.notify_to||a.userInfo.selectedUsers.length||(console.log("select user"),a.validate.friends=!0,b=!1):(a.validate.users=!0,b=!1):(a.validate.gender=!0,b=!1):(a.validate.platform=!0,b=!1),b}function g(b){console.log(a.userList);var c=a.usersList.concat(b);a.usersList=_.uniq(c,"id")}a.itemsToNotify=[{name:"All Users",value:"ALL_USERS"},{name:"Platform",value:"PLATFORM"},{name:"Gender",value:"GENDER"},{name:"Inactive Users",value:"INACTIVE_USERS"},{name:"All Groups",value:"ALL_GROUPS"},{name:"User Group",value:"USER_GROUP"},{name:"Users",value:"USERS"},{name:"Friends",value:"FRIENDS"}],a.validate={},a.notify=!0,a.announcement=c,a.announcement.notify_to="ALL_USERS",a.notifyAnnouncement=function(){f()&&("FRIENDS"===a.announcement.notify_to||"USER_GROUP"===a.announcement.notify_to?(console.log(a.announcement),a.announcement.user_id=a.userInfo.selected.id):"USERS"===a.announcement.notify_to&&(a.announcement.users=[],a.userInfo.selectedUsers.forEach(function(b){a.announcement.users.push(b.id)}),console.log(a.announcement,"USERS")),b.close(a.announcement))},a.setModel=function(a){"ALL_USERS"===a.notify_to||"INACTIVE_USERS"===a.notify_to||"ALL_GROUPS"===a.notify_to?(a.platform="",a.gender=""):"PLATFORM"===a.notify_to?a.gender="":"GENDER"===a.notify_to&&(a.platform="")},a.userInfo={},a.refreshAddresses=function(b){var c={sort_param:"name",sort_order:"DESC",name_like:b};b?e.searchUsers(c).success(function(a){console.log(a),g(a)}).error(function(a){console.log(a)}):a.usersList=a.usersList||[]},a.userInfo.selectedUsers=[],a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").controller("announcementEditController",["$scope","$modalInstance","announcement","announcementFactory",function(a,b,c){console.log("announcement edit");angular.copy(c);a.announcement=c,a.EditAnnouncement=function(a){b.close(a)}}]),angular.module("app").factory("announcementFactory",["$http","appConfig",function(a,b){function c(c){var d=b.apiUrl+"/announcement/create";return a({method:"POST",url:d,data:c})}function d(c){var d=b.apiUrl+"/announcement/update";return a({method:"POST",url:d,data:c})}function e(c){var d=b.apiUrl+"/announcement/remove/"+c.id;return a({method:"POST",url:d})}function f(){var c=b.apiUrl+"/announcement/list/all";return a({method:"GET",url:c})}function g(c){var d=b.apiUrl+"/announcement/notify";return console.log(c),a({method:"POST",url:d,data:c})}function h(c){var d=b.apiUrl+"/search/user/namelike";return a({method:"POST",url:d,data:c})}return{createAnnouncement:c,updateAnnouncement:d,deleteAnnouncement:e,getAllAnnouncement:f,notifyAnnouncement:g,searchUsers:h}}]),angular.module("app").controller("assetCreateController",["$scope","$modal","toaster","appConfig","assetFactory","categoryFactory",function(a,b,c,d,e,f){function g(b){var c=a.totalCategoryList.concat(b);a.totalCategoryList=_.uniq(c,"id")}function h(){var a=!0;return a}a.typesOfAsset=[{name:"Image",value:"IMAGE"},{name:"Text",value:"TEXT"}],a.labelList=d.label,a.asset={},a.asset.type="IMAGE",a.asset.label="EXPRESSION",a.categoryList={};var i,j=angular.copy(a.asset);a.onBGSelect=function(b){var d=b[0];if(d)if(console.log(d,"file"),/\.(jpg|jpeg|png)$/i.test(d.name)){i=new FormData,i.append("content",d);var e=new FileReader;e.onload=function(){return function(b){a.$apply(function(){a.asset.content=b.target.result})}}(d),e.readAsDataURL(d)}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.createAsset=function(){if(h()){a.asset.categories=[],a.categoryList.selectedCategories.forEach(function(b){console.log(b.name),a.asset.categories.push(b.name)});for(var b in a.asset)i.append(b,a.asset[b]);a.myPromise=e.createAsset(i).success(function(b){console.log(b),c.pop("success","Asset created successfully."),a.resetAsset()}).error(function(a){console.log(a)})}},a.resetAsset=function(){a.asset=j},a.totalCategoryList=[],a.refreshAddresses=function(b){var c={sort_param:"name",name_like:b};b?f.searchCategory(c).success(function(a){console.log(a),g(a)}).error(function(a){console.log(a)}):a.totalCategoryList=a.totalCategoryList||[]}}]),angular.module("app").controller("assetController",["$scope","$modal","toaster","appConfig","assetFactory","categoryFactory","$q",function(a,b,c,d,e,f,g){function h(){var b=a.assetTitle.label.toLowerCase().split("");b[0]=b[0].toUpperCase();var c=b.join("");return c}a.labelList=d.label,a.assetTitle={label:a.labelList[0].value},a.layoutModel="thumbnail";var i=!0,j=0,k=10,l=k;a.assetData=[],a.getAssets=function(b,d){i&&(a.scrollClass="infinite-scroll-block",a.myPromise=e.getAsset(b,k,d).success(function(d){d.result.length||(i=!1),console.log(d.result),a.assetData=a.assetData.concat(d.result),b||c.pop("success","Successfully Loaded assets")}).error(function(a){console.log(a),c.pop("error","Error while loading assets.")}))},a.openDeleteAssetModal=function(d){var f=b.open({templateUrl:"myDeleteContent.html",backdrop:"static",size:"sm",controller:"assetDeleteInstanceCtrl",resolve:{asset:function(){return d}}});f.result.then(function(b){console.log(b),e.deleteAsset(b).success(function(){c.pop("success","Successfully deleted the asset"),a.assetData.splice($index,1)}).error(function(){c.pop("error","Error while deleting the asset")})},function(){console.log("Modal dismissed at: "+new Date)})},a.editAsset=function(d,e){var h=angular.copy(d),i=b.open({templateUrl:"tpl/asset/asset_edit.html",controller:"assetEditController",size:"lg",resolve:{asset:function(){return h}}});i.result.then(function(b){var d=a.assetData[e].categories,h=[],i=a.assetData[e].id;d.forEach(function(a){var b={asset_id:i,name:a.name};h.push(f.detachCategoryToAsset(b))}),b.forEach(function(a){var b={asset_id:i,name:a.name};h.push(f.attachCategoryToAsset(b))}),h.length&&(a.myPromise=g.all(h).then(function(d){"OK"===d[0].statusText&&(a.assetData[e].categories=b,c.pop("success","Updated the asset successfully"))}))},function(){console.log("Modal dismissed at: "+new Date)})},a.getPagination=function(){var b=h();a.getAssets(j,b),j+=k},a.loadLabeledAssets=function(){var b=h();j=0,k=l,i=!0,console.log(b,j,k),a.assetData=[],a.getPagination()}}]),angular.module("app").controller("assetDeleteInstanceCtrl",["$scope","$modalInstance","asset",function(a,b,c){console.log("in del inst ctrl"),a.deleteItem=function(){var a={asset_id:c.id};b.close(a)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").controller("assetEditController",["$scope","$modalInstance","asset","assetFactory","categoryFactory",function(a,b,c,d,e){function f(a){var b=c.categories.concat(a);c.categories=_.uniq(b,"id")}console.log("In assetEdit",c),a.asset=c,a.multipleDemo={},a.multipleDemo.categories=c.categories,a.getCategories=function(a){var b={sort_param:"name",name_like:a};a?e.searchCategory(b).success(function(a){console.log(a),f(a)}).error(function(a){console.log(a)}):c.categories=c.categories},a.editAsset=function(){b.close(a.multipleDemo.categories)}}]),angular.module("app").factory("assetFactory",["$http","appConfig","$cookies",function(a,b,c){function d(c,d,e){var f=c+d-1,g=b.apiUrl+"/asset/by/label/"+e+"/"+c+"/"+f;return console.log(g),a({method:"GET",url:g})}function e(d){var e=b.apiUrl+"/asset/put";return d.append("user_id",c.userId||b.userId),a({method:"POST",url:e,headers:{"Content-Type":void 0},transformRequest:angular.identity,data:d})}function f(d){var e=b.apiUrl+"/asset/delete";return d.user_id=c.userId||b.userId,a({method:"POST",url:e,data:d})}c.userId;return{getAsset:d,createAsset:e,deleteAsset:f}}]),angular.module("app").controller("bookShelfCtrl",["$scope","$window","$rootScope","$modal","toaster","appConfig","bookshelfFactory",function(a,b,c,d,e,f,g){a.myPromise=g.getBooks().success(function(b){a.bookList=b,e.pop("success","Successfully Loading books")}).error(function(){e.pop("error","Error while loading books.")}),a.editBook=function(b){d.open({templateUrl:"tpl/bookshelf/edit_book_model.html",controller:"editBookController",size:"lg",resolve:{book:function(){return a.bookList[b]}}})},a.open=function(b){var c=d.open({templateUrl:"tpl/bookshelf/delete_book_model.html",controller:"deleteBookCtrl",size:"xs"});c.result.then(function(){g.deleteBook({id:a.bookList[b].id}).success(function(){a.bookList.splice(b,1),e.pop("success","Successfully Deleted Your Book.")})},function(){})},a.canvasBook=function(b){window.location="/#/book/canvas/"+a.bookList[b].id},a.layoutView="thumbnail"}]),angular.module("app").controller("deleteBookCtrl",function(a,b){a.cancel=function(){b.dismiss("cancel")},a.deleteBook=function(){b.close()}}),angular.module("app").controller("editBookController",function(a,b,c,d,e,f,g){a.book=d,a.bookPermissions=f.bookPermissions,a.bookSubType=f.bookSubType,a.currencyType=f.currencyType,a.cancel=function(){b.dismiss("cancel")},a.tabletZip=function(){a.myPromise=g.tabletZip(a.book.id).then(function(b){a.book.zip_tablet=b.data.zip_tablet,e.pop("success","Successfully converted your zip.")})},a.iphoneZip=function(){a.myPromise=g.iphoneZip(a.book.id).then(function(b){a.book.zip_iphone=b.data.zip_iphone,e.pop("success","Successfully converted your zip.")})},a.updateBook=function(){a.book.ImageBoxArray&&(a.book.imageData=a.book.ImageBoxArray.Image,a.book.image=a.book.ImageBoxArray.ImageName),a.book.bookID=a.book.id,a.myPromise=g.updateBook(a.book).success(function(c){a.message="Saved Successfully",a.book=c,b.close(),e.pop("success","Successfully Updated Your Book.")}).error(function(){a.message="Unexpected Error",e.pop("error","Unexpected Error.")})}}),angular.module("app").controller("FullcalendarCtrl",["$scope",function(a){var b=new Date,c=b.getDate(),d=b.getMonth(),e=b.getFullYear();a.eventSource={url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},a.events=[{title:"All Day Event",start:new Date(e,d,1),className:["b-l b-2x b-info"],location:"New York",info:"This a all day event that will start from 9:00 am to 9:00 pm, have fun!"},{title:"Dance class",start:new Date(e,d,3),end:new Date(e,d,4,9,30),allDay:!1,className:["b-l b-2x b-danger"],location:"London",info:"Two days dance training class."},{title:"Game racing",start:new Date(e,d,6,16,0),className:["b-l b-2x b-info"],location:"Hongkong",info:"The most big racing of this year."},{title:"Soccer",start:new Date(e,d,8,15,0),className:["b-l b-2x b-info"],location:"Rio",info:"Do not forget to watch."},{title:"Family",start:new Date(e,d,9,19,30),end:new Date(e,d,9,20,30),className:["b-l b-2x b-success"],info:"Family party"},{title:"Long Event",start:new Date(e,d,c-5),end:new Date(e,d,c-2),className:["bg-success bg"],location:"HD City",info:"It is a long long event"},{title:"Play game",start:new Date(e,d,c-1,16,0),className:["b-l b-2x b-info"],location:"Tokyo",info:"Tokyo Game Racing"},{title:"Birthday Party",start:new Date(e,d,c+1,19,0),end:new Date(e,d,c+1,22,30),allDay:!1,className:["b-l b-2x b-primary"],location:"New York",info:"Party all day"},{title:"Repeating Event",start:new Date(e,d,c+4,16,0),alDay:!1,className:["b-l b-2x b-warning"],location:"Home Town",info:"Repeat every day"},{title:"Click for Google",start:new Date(e,d,28),end:new Date(e,d,29),url:"http://google.com/",className:["b-l b-2x b-primary"]},{title:"Feed cat",start:new Date(e,d+1,6,18,0),className:["b-l b-2x b-info"]}],a.precision=400,a.lastClickTime=0,a.alertOnEventClick=function(b){var c=(new Date).getTime();
c-a.lastClickTime<=a.precision&&a.events.push({title:"New Event",start:b,className:["b-l b-2x b-info"]}),a.lastClickTime=c},a.alertOnDrop=function(b,c){a.alertMessage="Event Droped to make dayDelta "+c},a.alertOnResize=function(b,c){a.alertMessage="Event Resized to make dayDelta "+c},a.overlay=$(".fc-overlay"),a.alertOnMouseOver=function(b,c){a.event=b,a.overlay.removeClass("left right").find(".arrow").removeClass("left right top pull-up");var d=$(c.target).closest(".fc-event"),e=d.closest(".calendar"),f=d.offset().left-e.offset().left,g=e.width()-(d.offset().left-e.offset().left+d.width());g>a.overlay.width()?a.overlay.addClass("left").find(".arrow").addClass("left pull-up"):f>a.overlay.width()?a.overlay.addClass("right").find(".arrow").addClass("right pull-up"):a.overlay.find(".arrow").addClass("top"),0===d.find(".fc-overlay").length&&d.append(a.overlay)},a.uiConfig={calendar:{height:450,editable:!0,header:{left:"prev",center:"title",right:"next"},dayClick:a.alertOnEventClick,eventDrop:a.alertOnDrop,eventResize:a.alertOnResize,eventMouseover:a.alertOnMouseOver}},a.addEvent=function(){a.events.push({title:"New Event",start:new Date(e,d,c),className:["b-l b-2x b-info"]})},a.remove=function(b){a.events.splice(b,1)},a.changeView=function(a){$(".calendar").fullCalendar("changeView",a)},a.today=function(){$(".calendar").fullCalendar("today")},a.eventSources=[a.events]}]),angular.module("app").controller("canvasCtrl",["$scope","$modal","$log","$stateParams","$rootScope",function(a,b,c,d){{var e=d.pageId;_.map(a.pages,function(b){return b.id===e?(a.page=b,b):void 0})}a.bringBack=function(a){var b=a.additionalInfo.zIndex;a.additionalInfo.zIndex=b>0?b-1:0},a.$on("newImageElement",function(b,c){var d=a.page.ImageBoxArray;d.push(c),a.page.ImageBoxArray=d}),a.$emit("pageData",a.page),a.bringFront=function(a){a.additionalInfo.zIndex+=1},a.openModelToDeleteImage=function(d){var e=b.open({templateUrl:"tpl/canvas/delete.html",controller:function(a,b){a.cancel=function(){b.dismiss("cancel")},a.deletePage=function(){b.close()}}});e.result.then(function(){a.page.ImageBoxArray.splice(d,1)},function(){c.info("Modal dismissed at: "+new Date)})},a.openModelToUpdateImage=function(d){var e=b.open({templateUrl:"tpl/canvas/update_image.html",controller:function(a,b,c){a.ImageBoxArray={Image:""},a.ImageBoxArray.Image=c,a.cancel=function(){b.dismiss("cancel")},a.update=function(a){b.close(a.Image)}},resolve:{image:function(){return d.Image}}});e.result.then(function(b){a.page.ImageBoxArray[a.page.ImageBoxArray.indexOf(d)].Image=b},function(){c.info("Modal dismissed at: "+new Date)})},a.openModelToTouchFX=function(d){var e=b.open({templateUrl:"tpl/canvas/touchfx_model.html",controller:function(a,b,c,d){a.imageData=c,a.imageData&&a.imageData.touchfx&&a.imageData.touchfx.tap&&a.imageData.touchfx.tap.data&&(a.url=d.trustAsResourceUrl(a.imageData.touchfx.tap.data.url)),a.add=function(c){a.imageData.touchfx="SpriteTouchFx"===a.tap.touchOption?{tap:{spritecount:a.imageData.touchfx.tap.spritecount,height:c.additionalInfo.height,width:c.additionalInfo.width,loop:a.imageData.touchfx.tap.loop,sprite:c.Image,spritename:c.ImageName}}:{tap:{action:"audio",data:{title:c.ImageName,url:c.url}}},b.close()},a.cancel=function(){b.dismiss("cancel")}},resolve:{image:function(){return d}}});e.result.then(function(b){a.page.ImageBoxArray[a.page.ImageBoxArray.indexOf(d)].Image=b},function(){c.info("Modal dismissed at: "+new Date)})},a.pageFX=function(a){var d=b.open({templateUrl:"tpl/canvas/pagefx.html",controller:function(a,b,c,d){a.imagePageFx=c,a.imagePageFx&&a.imagePageFx.pagefx&&a.imagePageFx.pagefx.onload&&a.imagePageFx.pagefx.onload.data&&(a.url=d.trustAsResourceUrl(a.imagePageFx.pagefx.onload.data.url)),a.onload={},a.add=function(c){a.imagePageFx.pagefx="AudioPageFx"===a.onload.pageOption?{onload:{action:"audio",data:{title:c.ImageName,url:c.url}}}:{onload:{spritecount:a.onload.spritecount,height:c.additionalInfo.height,width:c.additionalInfo.width,loop:a.onload.loop,sprite:c.Image,spritename:c.ImageName}},b.close()},a.cancel=function(){b.dismiss("cancel")}},resolve:{image:function(){return a}}});d.result.then(function(){},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("app").factory("canvasFactory",function(a,b){var c=function(c){return a({method:"GET",url:b.apiUrl+"/rest/book/get/"+c})},d=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/order",data:c})},e=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/user/delete",data:c})},f=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/user/update",data:c})},g=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/page/user/create",data:c})};return{getBook:c,pageOrder:d,deletePage:e,updateCanvas:f,createPage:g}}),angular.module("app").controller("pageCtrl",["$scope","$stateParams","$rootScope","$state","$modal","$log","toaster","appConfig","canvasFactory",function(a,b,c,d,e,f,g,h,i){var j=[];a.bid=b.BookID,a.myPromise=i.getBook(b.BookID).success(function(b){j=b.pages,j.sort(sortCompare("pageNo")),a.pages=j,d.go("book.canvas.page",{pageId:a.pages[0].id})}).error(function(){g.pop("error","Error while Loading pages.")}),a.sortableOptions={stop:function(){var a=j.map(function(a){return a.id});i.pageOrder({bid:b.BookID,pages:a}).success(function(){g.pop("success","Page Order saved.")}).error(function(){g.pop("error","Error while save page orders.")})}},a.deletePage=function(c,d){i.deletePage({bookID:b.BookID,pageID:c.id}).success(function(){g.pop("success","Page successfully deletd.")}).error(function(){g.pop("error","Error while dateing page.")}),a.pages.splice(d,1)},a.game1=function(){e.open({templateUrl:"tpl/canvas/game1.html",controller:function(a,b,c){function d(a){return a.Image?'<img class="flag" src=image.Image />'+a.ImageName:a.ImageName}a.game1Page=angular.copy(c);a.game1Page.ImageBoxArray;a.draggable=[],a.droppable=[],a.select2Options={formatResult:d,formatSelection:d,escapeMarkup:function(a){return a}},a.addToDraggable=function(){a.draggable.push(a.dragSelected)},a.addToDroppable=function(){a.droppable.push(a.dropselected)},a.cancel=function(){b.dismiss("cancel")}},size:"lg",resolve:{page:function(){return a.updatedPageData}}})},a.browse=function(){var a=e.open({templateUrl:"tpl/canvas/image_model.html",controller:function(a,b){a.cancel=function(){b.dismiss("cancel")},a.addImage=function(a){b.close(a)}},size:"xs"});a.result.then(function(a){c.$broadcast("newImageElement",a)},function(){f.info("Modal dismissed at: "+new Date)})},c.$on("pageData",function(b,c){a.updatedPageData=c}),a.saveModifications=function(){function c(c){a.updatedPageData.thumbnail=c,i.updateCanvas({bookID:b.BookID,page:a.updatedPageData}).success(function(b){a.updatedPageData.thumbnail=b.thumbnail,a.myOverlay="",g.pop("success","Page updated.")}).error(function(){g.pop("error","Error while Loading pages.")})}a.myOverlay="overlay-block";var d=$(".canvasdiv").get(0);html2canvas(d,{onrendered:function(a){$(".canvas").find(".handler").remove(),$(".canvas").find(".active").removeClass();var b=a.toDataURL(),d="base64,",e=b.indexOf(d);b=b.substring(e+d.length),c(b)},proxy:h.apiUrl+"/proxy"})},a.createPage=function(){a.myPromise=i.createPage({bookID:b.BookID}).success(function(a){var b={id:a,top:0,left:0,height:768,width:1024,thumbnail:"",ImageBoxArray:[]};j.push(b),g.pop("success","New Page Created."),d.go("book.canvas.page",{pageId:b.id})}).error(function(){g.pop("error","Error while create Page.")})}}]),angular.module("app").controller("categoryController",["$scope","$modal","toaster","appConfig","categoryFactory","$q",function(a,b,c,d,e){a.layoutModel="thumbnail";var f=0,g=20;a.categoriesData=[];var h=!0;console.log("ion cat ctrl"),a.getAllCategories=function(b){h&&(a.scrollClass="infinite-scroll-block",a.myPromise=e.getCategoriesList(b,g).success(function(d){console.log(d),d.length||(h=!1),a.categoriesData=a.categoriesData.concat(d.result),b||c.pop("success","Successfully Loading cues")}).error(function(){c.pop("error","Error while loading books.")}))},a.getPagination=function(){a.getAllCategories(f),f+=g},a.editCategory=function(d,f){var g=angular.copy(d),h=b.open({templateUrl:"tpl/category/category_edit.html",controller:"categoryEditController",size:"lg",backdrop:"static",resolve:{category:function(){return g}}});h.result.then(function(b){console.log(b,"in update func"),e.updateCategory(b).success(function(){a.categoriesData[f]=b,c.pop("success","Successfully updated the category")}).error(function(a){console.log(a),c.pop("error","Unable to update category")})},function(){})}}]),angular.module("app").controller("categoryCreateController",["$scope","categoryFactory","toaster","cueFactory","appConfig","$q",function(a,b,c,d,e,f){var g=[];a.category={name:"",description:"",icon_url:"",background_url:""},a.background_url_data="",a.icon_url_data="";var h=angular.copy(a.category);a.resetCategory=function(){a.category=h,a.addForm.$setPristine(),a.background_url_data="",a.icon_url_data=""},a.addCategory=function(){console.log(g),a.myPromise=f.all(g).then(function(d){d.forEach(function(b){var c=b.data.url;-1!=c.indexOf("category/icon")?a.category.icon_url=c:c.indexOf("category/bg")&&(a.category.background_url=c)}),console.log(a.category,"category gng to create"),a.myPromise=b.createCategory(a.category).success(function(b){console.log(b),c.pop("success","Category created successfully"),a.resetCategory()}).error(function(){c.pop("error","Unable to create category")})})},a.onBGSelect=function(b){var e=b[0];if(e)if(console.log(e,"file"),/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e),f.append("key","category/icon/"+e.name);var h=new FileReader;h.onload=function(){return function(b){a.$apply(function(){a.icon_url_data=b.target.result})}}(e),h.readAsDataURL(e),g.push(d.uploadImage(f))}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.onBGWideSelect=function(b){var e=b[0];if(/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e),f.append("key","category/bg/"+e.name);var h=new FileReader;h.onload=function(){return function(b){a.$apply(function(){a.background_url_data=b.target.result})}}(e),h.readAsDataURL(e),g.push(d.uploadImage(f))}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimagewide"]').val("")}}]),angular.module("app").controller("categoryEditController",["$scope","$modalInstance","category","categoryFactory","cueFactory","$q",function(a,b,c,d,e,f){console.log("in category edit ctrl"),a.category=c;var g=angular.copy(c),h=[];a.onBGSelect=function(b){var c=b[0];if(c)if(console.log(c,"file"),/\.(jpg|jpeg|png)$/i.test(c.name)){var d=new FormData;d.append("content",c),d.append("key","category/icon/"+c.name);var f=new FileReader;f.onload=function(){return function(b){a.$apply(function(){a.icon_url_data=b.target.result})}}(c),f.readAsDataURL(c),h.push(e.uploadImage(d))}else toaster.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.onBGWideSelect=function(b){var c=b[0];if(/\.(jpg|jpeg|png)$/i.test(c.name)){var d=new FormData;d.append("content",c),d.append("key","category/bg/"+c.name);var f=new FileReader;f.onload=function(){return function(b){a.$apply(function(){a.background_url_data=b.target.result})}}(c),f.readAsDataURL(c),h.push(e.uploadImage(d))}else toaster.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimagewide"]').val("")},a.updateCategory=function(){console.log(a.category,h),a.myPromise=f.all(h).then(function(c){c.forEach(function(b){var c=b.data.url;-1!=c.indexOf("category/icon")?a.category.icon_url=c:c.indexOf("category/bg")&&(a.category.background_url=c)}),console.log(a.category,"category gng to create"),b.close(a.category)})},a.cancel=function(){a.category=angular.copy(g),b.dismiss("cancel")}}]),angular.module("app").factory("categoryFactory",["$http","appConfig",function(a,b){function c(c,d){var e=c+d-1,f=b.apiUrl+"/categories/list/"+c+"/"+e;return console.log(f),a({method:"GET",url:f})}function d(c){var d=b.apiUrl+"/category";return a({method:"POST",url:d,data:c})}function e(c){var d=b.apiUrl+"/category/update";return a({method:"POST",url:d,data:c})}function f(c){var d=b.apiUrl+"/search/category/namelike";return a({method:"POST",url:d,data:c})}function g(c){var d=b.apiUrl+"/category/asset/attach";return a({method:"POST",url:d,data:c})}function h(c){var d=b.apiUrl+"/category/asset/detach";return a({method:"POST",url:d,data:c})}function g(c){var d=b.apiUrl+"/category/cue/attach";return a({method:"POST",url:d,data:c})}return{getCategoriesList:c,createCategory:d,updateCategory:e,searchCategory:f,attachCategoryToAsset:g,detachCategoryToAsset:h}}]),angular.module("app").controller("ContactCtrl",["$scope","$http","$filter",function(a,b,c){b.get("js/app/contact/contacts.json").then(function(b){a.items=b.data.items,a.item=c("orderBy")(a.items,"first")[0],a.item.selected=!0}),a.filter="",a.groups=[{name:"Coworkers"},{name:"Family"},{name:"Friends"},{name:"Partners"},{name:"Group"}],a.createGroup=function(){var b={name:"New Group"};b.name=a.checkItem(b,a.groups,"name"),a.groups.push(b)},a.checkItem=function(a,b,c){var d=0;return angular.forEach(b,function(b){if(0===b[c].indexOf(a[c])){var e=b[c].replace(a[c],"").trim();d=e?Math.max(d,parseInt(e,10)+1):1}}),a[c]+(d?" "+d:"")},a.deleteGroup=function(b){a.groups.splice(a.groups.indexOf(b),1)},a.selectGroup=function(b){angular.forEach(a.groups,function(a){a.selected=!1}),a.group=b,a.group.selected=!0,a.filter=b.name},a.selectItem=function(b){angular.forEach(a.items,function(a){a.selected=!1,a.editing=!1}),a.item=b,a.item.selected=!0},a.deleteItem=function(b){a.items.splice(a.items.indexOf(b),1),a.item=c("orderBy")(a.items,"first")[0],a.item&&(a.item.selected=!0)},a.createItem=function(){var b={group:"Friends",avatar:"img/a0.jpg"};a.items.push(b),a.selectItem(b),a.item.editing=!0},a.editItem=function(a){a&&a.selected&&(a.editing=!0)},a.doneEditing=function(a){a.editing=!1}}]),angular.module("app").controller("cueEditController",["$scope","$modalInstance","cue","cueFactory","$q",function(a,b,c,d,e){var f=angular.copy(c);a.cue=c,a.background_url_data="",a.background_url_wide_data="";var f=angular.copy(c),g=[];a.onBGSelect=function(b){var c=b[0];if(/\.(jpg|jpeg|png)$/i.test(c.name)){var e=new FormData;e.append("content",c),e.append("key","cue/bg/"+c.name);var f=new FileReader;f.onload=function(){return function(b){a.$apply(function(){a.background_url_data=b.target.result})}}(c),f.readAsDataURL(c),g.push(d.uploadImage(e))}else toaster.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.onBGWideSelect=function(b){var c=b[0];if(/\.(jpg|jpeg|png)$/i.test(c.name)){var e=new FormData;e.append("content",c),e.append("key","cue/bg_wide/"+c.name);var f=new FileReader;f.onload=function(){return function(b){a.$apply(function(){a.background_url_wide_data=b.target.result})}}(c),f.readAsDataURL(c),g.push(d.uploadImage(e))}else toaster.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimagewide"]').val("")},a.updateCue=function(c){c.cue_id=c.id,a.imagePromise=e.all(g).then(function(a){a.forEach(function(a){var b=a.data.url;-1!=b.indexOf("cue/bg_wide")?c.background_url_wide=b:b.indexOf("cue/bg")&&(c.background_url=b)}),b.close(c)})},a.resetCue=function(){a.cue=angular.copy(f),a.cue.text=f.text},a.cancel=function(){a.cue=angular.copy(f),b.dismiss("cancel")}}]),angular.module("app").factory("cueFactory",["$http","appConfig",function(a,b){function c(c,d){var e=c+d-1,f=b.apiUrl+"/cue/get/all/"+c+"/"+e;return console.log(f),a({method:"GET",url:f})}function d(c){var d=b.apiUrl+"/cue/create";return a({method:"POST",url:d,data:c})}function e(c){var d=b.apiUrl+"/file/upload";return a.post(d,c,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function f(c){var d=b.apiUrl+"/cue/update";return a({method:"POST",url:d,data:c})}function g(c){var d=b.apiUrl+"/cue/delete";return a({method:"POST",url:d,data:c})}function h(c){var d=b.apiUrl+"/poll/get/"+c;return a({method:"GET",url:d})}return{getCueList:c,createCue:d,uploadImage:e,updateCue:f,deleteCue:g,getPollCueOptions:h}}]),angular.module("app").controller("cueController",["$scope","$modal","toaster","appConfig","cueFactory","$q",function(a,b,c,d,e){a.layoutModel="thumbnail";var f=0,g=20;a.cueData=[];var h=!0;a.getCues=function(b){h&&(a.scrollClass="infinite-scroll-block",a.myPromise=e.getCueList(b,g).success(function(d){d.length||(h=!1),a.cueData=a.cueData.concat(d.result),b||c.pop("success","Successfully Loading cues")}).error(function(){c.pop("error","Error while loading cues.")}))},a.getPollOptions=function(a){console.log(a,"getPollOptions"),e.getPollCueOptions(a.id).success(function(b){console.log(b),a.options=b.result.options}).error(function(a){console.log(a)})},a.editCue=function(d,f){var g=angular.copy(d),h=b.open({templateUrl:"tpl/cue/cue_edit.html",controller:"cueEditController",backdrop:"static",size:"lg",resolve:{cue:function(){return g}}});h.result.then(function(b){a.myPromise=e.updateCue(b).success(function(){a.cueData[f]=b,c.pop("success","Successfully updated the cue")}).error(function(a){console.log(a)})},function(){console.log("Modal dismissed at: "+new Date)})},a.openDeleteCueModal=function(d,f,g){var h=b.open({templateUrl:"myDeleteContent.html",backdrop:"static",size:"sm",controller:"cueDeleteInstanceCtrl",resolve:{cue:function(){return d},flag:function(){return g}}});h.result.then(function(b){console.log(b),e.deleteCue(b).success(function(){c.pop("success","Successfully deleted the cue"),a.cueData.splice(f,1)}).error(function(){c.pop("error","Error while deleting the cue")})},function(){console.log("Modal dismissed at: "+new Date)})},a.getPagination=function(){a.getCues(f),f+=g}}]),angular.module("app").controller("cueCreateController",["$scope","cueFactory","toaster","assetFactory","appConfig","$q","categoryFactory",function(a,b,c,d,e,f,g){function h(b){var c=a.totalCategoryList.concat(b);a.totalCategoryList=_.uniq(c,"id")}function i(b){var d=!0;if(console.log(b),!d)return d;if("POLL"===b.type&&a.options.count){var e=0;for(var f in a.options)"count"!==f&&a.options[f].text&&a.options[f].content&&e++;(2!==e&&"TWO"===a.options.count||4!==e&&"FOUR"===a.options.count)&&(d=!1,c.pop("warning","Please fill all the option of poll cue"))}else"POLL"===b.type&&(d=!1,c.pop("warning","Please select options for poll cue"));return!0}a.cue={text:"",bgcolor:"",type:"",background_url:"",background_url_wide:""};var j={};a.categoryList={},a.totalCategoryList=[],a.refreshAddresses=function(b){var c={sort_param:"name",name_like:b};b?g.searchCategory(c).success(function(a){console.log(a),h(a)}).error(function(a){console.log(a)}):a.totalCategoryList=a.totalCategoryList||[]},a.background_url_data="",a.background_url_wide_data="",a.options={option1:{text:"",content:""},option2:{text:"",content:""},option3:{text:"",content:""},option4:{text:"",content:""},count:""};var k=angular.copy(a.cue),l=angular.copy(a.options);a.onBGSelect=function(d){var e=d[0];if(e)if(console.log(e,"file"),/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e),f.append("key","cue/"+e.name);var g=new FileReader;g.onload=function(){return function(b){a.$apply(function(){a.background_url_data=b.target.result})}}(e),g.readAsDataURL(e),b.uploadImage(f).success(function(b){console.log(b),a.cue.background_url=b.url}).error(function(a){console.log(a)})}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimage"]').val("")},a.onBGWideSelect=function(d){var e=d[0];if(/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e);var g=new FileReader;g.onload=function(){return function(b){a.$apply(function(){a.background_url_wide_data=b.target.result})}}(e),g.readAsDataURL(e),b.uploadImage(f).success(function(b){a.cue.background_url_wide=b.url}).error(function(a){console.log(a)})}else c.pop("error","File Extension","Only JPEG/PNG are allowed."),$('input[name="bgimagewide"]').val("")},a.onOptionSelect=function(b,d){var e=b[0];if(/\.(jpg|jpeg|png)$/i.test(e.name)){var f=new FormData;f.append("content",e),j[d]=f;var g=new FileReader;g.onload=function(){return function(b){a.$apply(function(){switch(d){case 1:a.options.option1.content=b.target.result;break;case 2:a.options.option2.content=b.target.result;break;case 3:a.options.option3.content=b.target.result;break;case 4:a.options.option4.content=b.target.result}})}}(e),g.readAsDataURL(e)}else c.pop("error","File Extension","Only JPEG/PNG are allowed.")},a.addCue=function(e){if(console.log(e),i(e)){var g=[],h=[];if(a.categoryList.selectedCategories.forEach(function(a){console.log(a.name),h.push(a.name)}),e.categories=h,"POLL"===e.type){var k=[];for(var l in j){var m=j[l];m.append("type","IMAGE"),m.append("description",a.options["option"+l].text),m.append("label","Poll"),m.append("created_at",+new Date),g.push(d.createAsset(m))}a.myPromise=f.all(g).then(function(d){d.forEach(function(a){k.push(a.data.asset_id)}),e.polls=k,console.log(k,e),a.myPromise=b.createCue(e).success(function(b){c.pop("success","Successfully create a poll cue"),console.log(a.categoryList),a.resetCue(b)}).error(function(a){console.log(a),c.pop("error","Error while creating cue.")})},function(a){console.log(a)})}else"GENERAL"===e.type&&(a.myPromise=b.createCue(e).success(function(a){console.log(a)}).error(function(a){console.log(a),c.pop("error","Error while creating cue.")}).then(function(b){if(200===b.status){c.pop("success","cue created successfully.");{b.data.result}console.log(a.options),a.resetCue(b)}console.log("called at then")}))}},a.resetCue=function(){a.cue=angular.copy(k),a.options=angular.copy(l),a.background_url_data="",a.background_url_wide_data="",a.categoryList.categories=[],a.addForm.$setPristine()}}]),angular.module("app").controller("cueDeleteInstanceCtrl",["$scope","$modalInstance","cue","flag",function(a,b,c,d){a.flag=d,a.deleteItem=function(){var a={id:c.id,hard:d};b.close(a)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").factory("mails",["$http",function(a){var b="js/app/mail/mails.json",c=a.get(b).then(function(a){return a.data.mails}),d={};return d.all=function(){return c},d.get=function(a){return c.then(function(b){for(var c=0;c<b.length;c++)if(b[c].id===a)return b[c];return null})},d}]),angular.module("app").controller("MailCtrl",["$scope",function(a){a.folds=[{name:"Inbox",filter:""},{name:"Starred",filter:"starred"},{name:"Sent",filter:"sent"},{name:"Important",filter:"important"},{name:"Draft",filter:"draft"},{name:"Trash",filter:"trash"}],a.labels=[{name:"Angular",filter:"angular",color:"#23b7e5"},{name:"Bootstrap",filter:"bootstrap",color:"#7266ba"},{name:"Client",filter:"client",color:"#fad733"},{name:"Work",filter:"work",color:"#27c24c"}],a.addLabel=function(){a.labels.push({name:a.newLabel.name,filter:angular.lowercase(a.newLabel.name),color:"#ccc"}),a.newLabel.name=""},a.labelClass=function(a){return{"b-l-info":"angular"===angular.lowercase(a),"b-l-primary":"bootstrap"===angular.lowercase(a),"b-l-warning":"client"===angular.lowercase(a),"b-l-success":"work"===angular.lowercase(a)}}}]),angular.module("app").controller("MailListCtrl",["$scope","mails","$stateParams",function(a,b,c){a.fold=c.fold,b.all().then(function(b){a.mails=b})}]),angular.module("app").controller("MailDetailCtrl",["$scope","mails","$stateParams",function(a,b,c){b.get(c.mailId).then(function(b){a.mail=b})}]),angular.module("app").controller("MailNewCtrl",["$scope",function(a){a.mail={to:"",subject:"",content:""},a.tolist=[{name:"James",email:"james@gmail.com"},{name:"Luoris Kiso",email:"luoris.kiso@hotmail.com"},{name:"Lucy Yokes",email:"lucy.yokes@gmail.com"}]}]),angular.module("app").directive("labelColor",function(){return function(a,b,c){b.css({color:c.color})}});var loadGoogleMaps=function(a){var b,c=a.now();return function(d,e,f){if(b)return b;var g=a.Deferred(),h=function(){g.resolve(window.google&&google.maps?google.maps:!1)},i="loadGoogleMaps_"+c++,j=a.extend({sensor:!1},e?{key:e}:{},f?{language:f}:{});return window.google&&google.maps?h():window.google&&google.load?google.load("maps",d||3,{other_params:a.param(j),callback:h}):(j=a.extend(j,{v:d||3,callback:i}),window[i]=function(){h(),setTimeout(function(){try{delete window[i]}catch(a){}},20)},a.ajax({dataType:"script",data:j,url:"http://maps.google.com/maps/api/js"})),b=g.promise()}}(jQuery);angular.module("app").controller("MapCtrl",["$scope",function(a){a.myMarkers=[],a.mapOptions={center:new google.maps.LatLng(35.784,-78.67),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},a.addMarker=function(b,c){a.myMarkers.push(new google.maps.Marker({map:a.myMap,position:c[0].latLng}))},a.setZoomMessage=function(b){a.zoomMessage="You just zoomed to "+b+"!",console.log(b,"zoomed")},a.openMarkerInfo=function(b){a.currentMarker=b,a.currentMarkerLat=b.getPosition().lat(),a.currentMarkerLng=b.getPosition().lng(),a.myInfoWindow.open(a.myMap,b)},a.setMarkerPosition=function(a,b,c){a.setPosition(new google.maps.LatLng(b,c))}}]),angular.module("app").directive("uiEvent",["$parse",function(a){return function(b,c,d){var e=b.$eval(d.uiEvent);angular.forEach(e,function(d,e){var f=a(d);c.bind(e,function(a){var c=Array.prototype.slice.call(arguments);c=c.splice(1),f(b,{$event:a,$params:c}),b.$$phase||b.$apply()})})}}]),function(){function a(a,b,c,d){angular.forEach(b.split(" "),function(b){window.google.maps.event.addListener(c,b,function(c){d.triggerHandler("map-"+b,c),a.$$phase||a.$apply()})})}function b(b,c){angular.module("app").directive(b,[function(){return{restrict:"A",link:function(d,e,f){d.$watch(f[b],function(b){b&&a(d,c,b,e)})}}}])}angular.module("app").value("uiMapConfig",{}),angular.module("app").directive("uiMap",["uiMapConfig","$parse",function(b,c){var d="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",e=b||{};return{restrict:"A",link:function(b,f,g){var h=angular.extend({},e,b.$eval(g.uiOptions)),i=new window.google.maps.Map(f[0],h),j=c(g.uiMap);j.assign(b,i),a(b,d,i,f)}}}]),angular.module("app").value("uiMapInfoWindowConfig",{}),angular.module("app").directive("uiMapInfoWindow",["uiMapInfoWindowConfig","$parse","$compile",function(b,c,d){var e="closeclick content_change domready position_changed zindex_changed",f=b||{};return{link:function(b,g,h){var i=angular.extend({},f,b.$eval(h.uiOptions));i.content=g[0];var j=c(h.uiMapInfoWindow),k=j(b);k||(k=new window.google.maps.InfoWindow(i),j.assign(b,k)),a(b,e,k,g),g.replaceWith("<div></div>");var l=k.open;k.open=function(a,c,e,f,h,i){d(g.contents())(b),l.call(k,a,c,e,f,h,i)}}}}]),b("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),b("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),b("uiMapGroundOverlay","click dblclick")}(),angular.module("app").controller("NoteCtrl",["$scope","$http",function(a,b){b.get("js/app/note/notes.json").then(function(b){a.notes=b.data.notes,a.note=a.notes[0],a.notes[0].selected=!0}),a.colors=["primary","info","success","warning","danger","dark"],a.createNote=function(){var b={content:"New note",color:a.colors[Math.floor(3*Math.random())],date:Date.now()};a.notes.push(b),a.selectNote(b)},a.deleteNote=function(b){a.notes.splice(a.notes.indexOf(b),1),b.selected&&(a.note=a.notes[0],a.notes.length&&(a.notes[0].selected=!0))},a.selectNote=function(b){angular.forEach(a.notes,function(a){a.selected=!1}),a.note=b,a.note.selected=!0}}]),angular.module("app").controller("notificationCreateController",["$scope","$modal","toaster","appConfig","cueFactory",function(a){a.notification={type:"Announcement",text:"",content:"",push:"NOW",date:"",valid:"1",format:"dd/MMM/yy"},console.log("in notificationCreateController"),a.minDate=new Date,a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.createNotification=function(){console.log(a.notification)}}]);var angularSkycons=angular.module("angular-skycons",[]);angularSkycons.directive("skycon",function(){return{restrict:"E",replace:!0,scope:{icon:"=",size:"="},link:function(a,b,c){var d=document.createElement("canvas");d.className=c["class"]?c["class"]:"";var e={};e.color=c.color?c.color:"black";var f=new Skycons(e);a.$watch("size",function(b){b?(d.height=b,d.width=b):(d.height=a.size||64,d.width=a.size||64)},!0),a.$watch("icon",function(){f.set(d,a.icon)},!0),f.play(),8===b[0].nodeType?b.replaceWith(d):b[0].appendChild(d),a.$on("$destroy",function(){f.remove(d),0===f.list.length&&f.pause(d)})}}}),angular.module("app").controller("WeatherCtrl",["$scope","yahooApi","geoApi",function(a,b,c){a.userSearchText="",a.search={},a.forcast={},a.place={},a.data={},c.then(function(b){a.userSearchText=b.data.city+", "+b.data.country_code,a.getLocations()}),a.getLocations=function(){var c='select * from geo.places where text="" + $scope.userSearchText + ""';b.query({q:c,format:"json"},{},function(b){a.search=b,1!==b.query.count||b.query.results.channel||a.getWeather(b.query.results.place.woeid,b.query.results.place.name,b.query.results.place.country.content)})},a.getWeather=function(c,d,e){a.place.city=d,a.place.country=e;var f="select item from weather.forecast where woeid="+c;b.query({q:f,format:"json"},{},function(b){b.query.results.channel.item.forecast.forEach(function(b){b.icon=a.getCustomIcon(b.code)}),b.query.results.channel.item.condition.icon=a.getCustomIcon(b.query.results.channel.item.condition.code),a.data=b})},a.getCustomIcon=function(a){switch(a){case"0":case"1":case"2":case"24":case"25":return"wind";case"5":case"6":case"7":case"18":return"sleet";case"3":case"4":case"8":case"9":case"10":case"11":case"12":case"35":case"37":case"38":case"39":case"40":case"45":case"47":return"rain";case"13":case"14":case"15":case"16":case"17":case"41":case"42":case"43":case"46":return"snow";case"19":case"20":case"21":case"22":case"23":return"fog";case"26":case"27":case"28":case"44":return"cloudy";case"29":return"partly-cloudy-night";case"30":return"partly-cloudy-day";case"31":case"33":return"clear-night";case"32":case"34":case"36":return"clear-day";default:return""}}}]),angular.module("app").factory("yahooApi",["$resource",function(a){return a("http://query.yahooapis.com/v1/public/yql",{},{query:{method:"GET",isArray:!1}})}]),angular.module("app").factory("geoApi",["$http",function(a){return a.jsonp("http://muslimsalat.com/daily.json?callback=JSON_CALLBACK")}]),function(a){function b(a,b,c,d){a.beginPath(),a.arc(b,c,d,0,s,!1),a.fill()}function c(a,b,c,d,e){a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.stroke()}function d(a,c,d,e,f,g,h,i){var j=Math.cos(c*s),k=Math.sin(c*s);i-=h,b(a,d-k*f,e+j*g+.5*i,h+(1-.5*j)*i)}function e(a,b,c,e,f,g,h,i){var j;for(j=5;j--;)d(a,b+j/5,c,e,f,g,h,i)}function f(a,b,c,d,f,g,h){b/=3e4;var i=.21*f,j=.12*f,k=.24*f,l=.28*f;a.fillStyle=h,e(a,b,c,d,i,j,k,l),a.globalCompositeOperation="destination-out",e(a,b,c,d,i,j,k-g,l-g),a.globalCompositeOperation="source-over"}function g(a,b,d,e,f,g,h){b/=12e4;var i,j,k,l,m=.25*f-.5*g,n=.32*f+.5*g,o=.5*f-.5*g;for(a.strokeStyle=h,a.lineWidth=g,a.lineCap="round",a.lineJoin="round",a.beginPath(),a.arc(d,e,m,0,s,!1),a.stroke(),i=8;i--;)j=(b+i/8)*s,k=Math.cos(j),l=Math.sin(j),c(a,d+k*n,e+l*n,d+k*o,e+l*o)}function h(a,b,c,d,e,f,g){b/=15e3;var h=.29*e-.5*f,i=.05*e,j=Math.cos(b*s),k=j*s/-16;
a.strokeStyle=g,a.lineWidth=f,a.lineCap="round",a.lineJoin="round",c+=j*i,a.beginPath(),a.arc(c,d,h,k+s/8,k+7*s/8,!1),a.arc(c+Math.cos(k)*h*t,d+Math.sin(k)*h*t,h,k+5*s/8,k+3*s/8,!0),a.closePath(),a.stroke()}function i(a,b,c,d,e,f,g){b/=1350;var h,i,j,k,l=.16*e,m=11*s/12,n=7*s/12;for(a.fillStyle=g,h=4;h--;)i=(b+h/4)%1,j=c+(h-1.5)/1.5*(1===h||2===h?-1:1)*l,k=d+i*i*e,a.beginPath(),a.moveTo(j,k-1.5*f),a.arc(j,k,.75*f,m,n,!1),a.fill()}function j(a,b,d,e,f,g,h){b/=750;var i,j,k,l,m=.1875*f;for(a.strokeStyle=h,a.lineWidth=.5*g,a.lineCap="round",a.lineJoin="round",i=4;i--;)j=(b+i/4)%1,k=Math.floor(d+(i-1.5)/1.5*(1===i||2===i?-1:1)*m)+.5,l=e+j*f,c(a,k,l-1.5*g,k,l+1.5*g)}function k(a,b,d,e,f,g,h){b/=3e3;var i,j,k,l,m=.16*f,n=.75*g,o=b*s*.7,p=Math.cos(o)*n,q=Math.sin(o)*n,r=o+s/3,t=Math.cos(r)*n,u=Math.sin(r)*n,v=o+2*s/3,w=Math.cos(v)*n,x=Math.sin(v)*n;for(a.strokeStyle=h,a.lineWidth=.5*g,a.lineCap="round",a.lineJoin="round",i=4;i--;)j=(b+i/4)%1,k=d+Math.sin((j+i/4)*s)*m,l=e+j*f,c(a,k-p,l-q,k+p,l+q),c(a,k-t,l-u,k+t,l+u),c(a,k-w,l-x,k+w,l+x)}function l(a,b,c,d,f,g,h){b/=3e4;var i=.21*f,j=.06*f,k=.21*f,l=.28*f;a.fillStyle=h,e(a,b,c,d,i,j,k,l),a.globalCompositeOperation="destination-out",e(a,b,c,d,i,j,k-g,l-g),a.globalCompositeOperation="source-over"}function m(a,b,c,d,e,f,g){var h=e/8,i=h/3,j=2*i,k=b%1*s,l=Math.cos(k),m=Math.sin(k);a.fillStyle=g,a.strokeStyle=g,a.lineWidth=f,a.lineCap="round",a.lineJoin="round",a.beginPath(),a.arc(c,d,h,k,k+Math.PI,!1),a.arc(c-i*l,d-i*m,j,k+Math.PI,k,!1),a.arc(c+j*l,d+j*m,i,k+Math.PI,k,!0),a.globalCompositeOperation="destination-out",a.fill(),a.globalCompositeOperation="source-over",a.stroke()}function n(a,b,c,d,e,f,g,h,i){b/=2500;var j,k,l,n,o=u[g],p=(b+g-v[g].start)%h,q=(b+g-v[g].end)%h,r=(b+g)%h;if(a.strokeStyle=i,a.lineWidth=f,a.lineCap="round",a.lineJoin="round",1>p){if(a.beginPath(),p*=o.length/2-1,j=Math.floor(p),p-=j,j*=2,j+=2,a.moveTo(c+(o[j-2]*(1-p)+o[j]*p)*e,d+(o[j-1]*(1-p)+o[j+1]*p)*e),1>q){for(q*=o.length/2-1,k=Math.floor(q),q-=k,k*=2,k+=2,n=j;n!==k;n+=2)a.lineTo(c+o[n]*e,d+o[n+1]*e);a.lineTo(c+(o[k-2]*(1-q)+o[k]*q)*e,d+(o[k-1]*(1-q)+o[k+1]*q)*e)}else for(n=j;n!==o.length;n+=2)a.lineTo(c+o[n]*e,d+o[n+1]*e);a.stroke()}else if(1>q){for(a.beginPath(),q*=o.length/2-1,k=Math.floor(q),q-=k,k*=2,k+=2,a.moveTo(c+o[0]*e,d+o[1]*e),n=2;n!==k;n+=2)a.lineTo(c+o[n]*e,d+o[n+1]*e);a.lineTo(c+(o[k-2]*(1-q)+o[k]*q)*e,d+(o[k-1]*(1-q)+o[k+1]*q)*e),a.stroke()}1>r&&(r*=o.length/2-1,l=Math.floor(r),r-=l,l*=2,l+=2,m(a,b,c+(o[l-2]*(1-r)+o[l]*r)*e,d+(o[l-1]*(1-r)+o[l+1]*r)*e,e,f,i))}var o,p;!function(){var b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame;b&&c?(o=function(a){function c(){d.value=b(c),a()}var d={value:null};return c(),d},p=function(a){c(a.value)}):(o=setInterval,p=clearInterval)}();var q=500,r=.08,s=2*Math.PI,t=2/Math.sqrt(2),u=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],v=[{start:.36,end:.11},{start:.56,end:.16}],w=function(a){this.list=[],this.interval=null,this.color=a&&a.color?a.color:"black",this.resizeClear=!(!a||!a.resizeClear)};w.CLEAR_DAY=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,f=Math.min(d,e);g(a,b,.5*d,.5*e,f,f*r,c)},w.CLEAR_NIGHT=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,f=Math.min(d,e);h(a,b,.5*d,.5*e,f,f*r,c)},w.PARTLY_CLOUDY_DAY=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,h=Math.min(d,e);g(a,b,.625*d,.375*e,.75*h,h*r,c),f(a,b,.375*d,.625*e,.75*h,h*r,c)},w.PARTLY_CLOUDY_NIGHT=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);h(a,b,.667*d,.375*e,.75*g,g*r,c),f(a,b,.375*d,.625*e,.75*g,g*r,c)},w.CLOUDY=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);f(a,b,.5*d,.5*e,g,g*r,c)},w.RAIN=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);i(a,b,.5*d,.37*e,.9*g,g*r,c),f(a,b,.5*d,.37*e,.9*g,g*r,c)},w.SLEET=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);j(a,b,.5*d,.37*e,.9*g,g*r,c),f(a,b,.5*d,.37*e,.9*g,g*r,c)},w.SNOW=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,g=Math.min(d,e);k(a,b,.5*d,.37*e,.9*g,g*r,c),f(a,b,.5*d,.37*e,.9*g,g*r,c)},w.WIND=function(a,b,c){var d=a.canvas.width,e=a.canvas.height,f=Math.min(d,e);n(a,b,.5*d,.5*e,f,f*r,0,2,c),n(a,b,.5*d,.5*e,f,f*r,1,2,c)},w.FOG=function(a,b,d){var e=a.canvas.width,f=a.canvas.height,g=Math.min(e,f),h=g*r;l(a,b,.5*e,.32*f,.75*g,h,d),b/=5e3;var i=Math.cos(b*s)*g*.02,j=Math.cos((b+.25)*s)*g*.02,k=Math.cos((b+.5)*s)*g*.02,m=Math.cos((b+.75)*s)*g*.02,n=.936*f,o=Math.floor(n-.5*h)+.5,p=Math.floor(n-2.5*h)+.5;a.strokeStyle=d,a.lineWidth=h,a.lineCap="round",a.lineJoin="round",c(a,i+.2*e+.5*h,o,j+.8*e-.5*h,o),c(a,k+.2*e+.5*h,p,m+.8*e-.5*h,p)},w.prototype={_determineDrawingFunction:function(a){return"string"==typeof a&&(a=w[a.toUpperCase().replace(/-/g,"_")]||null),a},add:function(a,b){var c;"string"==typeof a&&(a=document.getElementById(a)),null!==a&&(b=this._determineDrawingFunction(b),"function"==typeof b&&(c={element:a,context:a.getContext("2d"),drawing:b},this.list.push(c),this.draw(c,q)))},set:function(a,b){var c;for("string"==typeof a&&(a=document.getElementById(a)),c=this.list.length;c--;)if(this.list[c].element===a)return this.list[c].drawing=this._determineDrawingFunction(b),void this.draw(this.list[c],q);this.add(a,b)},remove:function(a){var b;for("string"==typeof a&&(a=document.getElementById(a)),b=this.list.length;b--;)if(this.list[b].element===a)return void this.list.splice(b,1)},draw:function(a,b){var c=a.context.canvas;this.resizeClear?c.width=c.width:a.context.clearRect(0,0,c.width,c.height),a.drawing(a.context,b,this.color)},play:function(){var a=this;this.pause(),this.interval=o(function(){var b,c=Date.now();for(b=a.list.length;b--;)a.draw(a.list[b],c)},1e3/60)},pause:function(){this.interval&&(p(this.interval),this.interval=null)}},a.Skycons=w}(this),angular.module("app").factory("browseFactory",function(a,b){var c=function(c){return a({method:"POST",url:b.apiUrl+"/rest/cloud/store",data:c,headers:{"Content-Type":void 0},transformRequest:angular.identity})};return{uploadTos3:c}}),angular.module("app").factory("createFactory",function(a,b){var c=function(c){return a({method:"POST",url:b.apiUrl+"/rest/book/user/create",data:c})};return{createBook:c}}),angular.module("app").factory("userManagement",["$http","appConfig","$q",function(a,b,c){var d=function(d){c.defer();return a({method:"POST",url:b.apiUrl+"/profile/user",headers:{"Content-Type":"application/json",J290EeGRFyIYRdXES7outLUbZKr:"l0FQ5cmpRcADmREyUY4DKwH3CnxejQtpb1cM"},data:d})},e=function(d){c.defer();return a({method:"POST",url:b.apiUrl+"/user/action/signin",headers:{"Content-Type":"application/json",J290EeGRFyIYRdXES7outLUbZKr:"l0FQ5cmpRcADmREyUY4DKwH3CnxejQtpb1cM"},data:d})};return{signUp:d,login:e}}]),angular.module("app").filter("fromNow",function(){return function(a){return moment(a).fromNow()}}),angular.module("app").controller("AccordionDemoCtrl",["$scope",function(a){a.oneAtATime=!0,a.groups=[{title:"Accordion group header - #1",content:"Dynamic group body - #1"},{title:"Accordion group header - #2",content:"Dynamic group body - #2"}],a.items=["Item 1","Item 2","Item 3"],a.addItem=function(){var b=a.items.length+1;a.items.push("Item "+b)},a.status={isFirstOpen:!0,isFirstDisabled:!1}}]),angular.module("app").controller("AlertDemoCtrl",["$scope",function(a){a.alerts=[{type:"success",msg:"Well done! You successfully read this important alert message."},{type:"info",msg:"Heads up! This alert needs your attention, but it is not super important."},{type:"warning",msg:"Warning! Best check yo self, you are not looking too good..."}],a.addAlert=function(){a.alerts.push({type:"danger",msg:"Oh snap! Change a few things up and try submitting again."})},a.closeAlert=function(b){a.alerts.splice(b,1)}}]),angular.module("app").controller("ButtonsDemoCtrl",["$scope",function(a){a.singleModel=1,a.radioModel="Middle",a.checkModel={left:!1,middle:!0,right:!1}}]),angular.module("app").controller("CarouselDemoCtrl",["$scope",function(a){a.myInterval=5e3;var b=a.slides=[];a.addSlide=function(){b.push({image:"img/c"+b.length+".jpg",text:["Carousel text #0","Carousel text #1","Carousel text #2","Carousel text #3"][b.length%4]})};for(var c=0;4>c;c++)a.addSlide()}]),angular.module("app").controller("DropdownDemoCtrl",["$scope",function(a){a.items=["The first choice!","And another choice for you.","but wait! A third!"],a.status={isopen:!1},a.toggled=function(){},a.toggleDropdown=function(b){b.preventDefault(),b.stopPropagation(),a.status.isopen=!a.status.isopen}}]),angular.module("app").controller("ModalInstanceCtrl",["$scope","$modalInstance","items",function(a,b,c){a.items=c,a.selected={item:a.items[0]},a.ok=function(){b.close(a.selected.item)},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("app").controller("ModalDemoCtrl",["$scope","$modal","$log",function(a,b,c){a.items=["item1","item2","item3"],a.open=function(d){var e=b.open({templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:d,resolve:{items:function(){return a.items}}});e.result.then(function(b){a.selected=b},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("app").controller("PaginationDemoCtrl",["$scope","$log",function(a,b){a.totalItems=64,a.currentPage=4,a.setPage=function(b){a.currentPage=b},a.pageChanged=function(){b.info("Page changed to: "+a.currentPage)},a.maxSize=5,a.bigTotalItems=175,a.bigCurrentPage=1}]),angular.module("app").controller("PopoverDemoCtrl",["$scope",function(a){a.dynamicPopover="Hello, World!",a.dynamicPopoverTitle="Title"}]),angular.module("app").controller("ProgressDemoCtrl",["$scope",function(a){a.max=200,a.random=function(){var b,c=Math.floor(100*Math.random()+1);b=25>c?"success":50>c?"info":75>c?"warning":"danger",a.showWarning="danger"===b||"warning"===b,a.dynamic=c,a.type=b},a.random(),a.randomStacked=function(){a.stacked=[];for(var b=["success","info","warning","danger"],c=0,d=Math.floor(4*Math.random()+1);d>c;c++){var e=Math.floor(4*Math.random());a.stacked.push({value:Math.floor(30*Math.random()+1),type:b[e]})}},a.randomStacked()}]),angular.module("app").controller("TabsDemoCtrl",["$scope",function(a){a.tabs=[{title:"Dynamic Title 1",content:"Dynamic content 1"},{title:"Dynamic Title 2",content:"Dynamic content 2",disabled:!0}]}]),angular.module("app").controller("RatingDemoCtrl",["$scope",function(a){a.rate=7,a.max=10,a.isReadonly=!1,a.hoveringOver=function(b){a.overStar=b,a.percent=100*(b/a.max)}}]),angular.module("app").controller("TooltipDemoCtrl",["$scope",function(a){a.dynamicTooltip="Hello, World!",a.dynamicTooltipText="dynamic",a.htmlTooltip="I've been made <b>bold</b>!"}]),angular.module("app").controller("TypeaheadDemoCtrl",["$scope","$http",function(a,b){a.selected=void 0,a.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],a.getLocation=function(a){return b.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,sensor:!1}}).then(function(a){var b=[];return angular.forEach(a.data.results,function(a){b.push(a.formatted_address)}),b})}}]),angular.module("app").controller("DatepickerDemoCtrl",["$scope",function(a){a.today=function(){a.dt=new Date},a.today(),a.clear=function(){a.dt=null},a.disabled=function(a,b){return"day"===b&&(0===a.getDay()||6===a.getDay())},a.toggleMin=function(){a.minDate=a.minDate?null:new Date},a.toggleMin(),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.dateOptions={formatYear:"yy",startingDay:1,"class":"datepicker"},a.initDate=new Date("2016-15-20"),a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.format=a.formats[0]}]),angular.module("app").controller("TimepickerDemoCtrl",["$scope",function(a){a.mytime=new Date,a.hstep=1,a.mstep=15,a.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},a.ismeridian=!0,a.toggleMode=function(){a.ismeridian=!a.ismeridian},a.update=function(){var b=new Date;b.setHours(14),b.setMinutes(0),a.mytime=b},a.changed=function(){},a.clear=function(){a.mytime=null}}]),angular.module("app").controller("FlotChartDemoCtrl",["$scope",function(a){a.d=[[1,6.5],[2,6.5],[3,7],[4,8],[5,7.5],[6,7],[7,6.8],[8,7],[9,7.2],[10,7],[11,6.8],[12,7]],a.d0_1=[[0,7],[1,6.5],[2,12.5],[3,7],[4,9],[5,6],[6,11],[7,6.5],[8,8],[9,7]],a.d0_2=[[0,4],[1,4.5],[2,7],[3,4.5],[4,3],[5,3.5],[6,6],[7,3],[8,4],[9,3]],a.d1_1=[[10,120],[20,70],[30,70],[40,60]],a.d1_2=[[10,50],[20,60],[30,90],[40,35]],a.d1_3=[[10,80],[20,40],[30,30],[40,20]],a.d2=[];for(var b=0;20>b;++b)a.d2.push([b,Math.sin(b)]);a.d3=[{label:"iPhone5S",data:40},{label:"iPad Mini",data:10},{label:"iPad Mini Retina",data:20},{label:"iPhone4S",data:12},{label:"iPad Air",data:18}],a.refreshData=function(){a.d0_1=a.d0_2},a.getRandomData=function(){var a=[],b=150;for(a.length>0&&(a=a.slice(1));a.length<b;){var c=a.length>0?a[a.length-1]:50,d=c+10*Math.random()-5;0>d?d=0:d>100&&(d=100),a.push(d)}for(var e=[],f=0;f<a.length;++f)e.push([f,a[f]]);return e},a.d4=a.getRandomData()}]),angular.module("app").controller("EditorCtrl",function(a){a.htmlVariable='<h3>Try me!</h3><p>textAngular is a super cool WYSIWYG Text Editor directive for AngularJS</p><p><b>Features:</b></p><ol><li>Automatic Seamless Two-Way-Binding</li><li style="color: blue;">Super Easy <b>Theming</b> Options</li><li>Simple Editor Instance Creation</li><li>Safely Parses Html for Custom Toolbar Icons</li><li>Doesn&apos;t Use an iFrame</li><li>Works with Firefox, Chrome, and IE8+</li></ol><p><b>Code at GitHub:</b> <a href="https://github.com/fraywing/textAngular">Here</a> </p>'}),angular.module("app").controller("FileUploadCtrl",["$scope","FileUploader",function(a,b){var c=a.uploader=new b({url:"js/controllers/upload.php"});c.filters.push({name:"customFilter",fn:function(){return this.queue.length<10}}),c.onWhenAddingFileFailed=function(a,b,c){console.info("onWhenAddingFileFailed",a,b,c)},c.onAfterAddingFile=function(a){console.info("onAfterAddingFile",a)},c.onAfterAddingAll=function(a){console.info("onAfterAddingAll",a)},c.onBeforeUploadItem=function(a){console.info("onBeforeUploadItem",a)},c.onProgressItem=function(a,b){console.info("onProgressItem",a,b)},c.onProgressAll=function(a){console.info("onProgressAll",a)},c.onSuccessItem=function(a,b,c,d){console.info("onSuccessItem",a,b,c,d)},c.onErrorItem=function(a,b,c,d){console.info("onErrorItem",a,b,c,d)},c.onCancelItem=function(a,b,c,d){console.info("onCancelItem",a,b,c,d)},c.onCompleteItem=function(a,b,c,d){console.info("onCompleteItem",a,b,c,d)},c.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",c)}]),angular.module("app").controller("FormDemoCtrl",["$scope",function(a){a.notBlackListed=function(a){var b=["bad@domain.com","verybad@domain.com"];return-1===b.indexOf(a)},a.val=15;var b=function(b){a.$apply(function(){a.val=b})};angular.element("#slider").on("slideStop",function(a){b(a.value)}),a.select2Number=[{text:"First",value:"One"},{text:"Second",value:"Two"},{text:"Third",value:"Three"}],a.list_of_string=["tag1","tag2"],a.select2Options={multiple:!0,simple_tags:!0,tags:["tag1","tag2","tag3","tag4"]}}]),angular.module("app").controller("GridDemoCtrl",["$scope","$http",function(a,b){a.filterOptions={filterText:"",useExternalFilter:!0},a.totalServerItems=0,a.pagingOptions={pageSizes:[250,500,1e3],pageSize:250,currentPage:1},a.setPagingData=function(b,c,d){var e=b.slice((c-1)*d,c*d);a.myData=e,a.totalServerItems=b.length,a.$$phase||a.$apply()},a.getPagedDataAsync=function(c,d,e){setTimeout(function(){var f;if(e){var g=e.toLowerCase();b.get("js/controllers/largeLoad.json").success(function(b){f=b.filter(function(a){return-1!==JSON.stringify(a).toLowerCase().indexOf(g)}),a.setPagingData(f,d,c)})}else b.get("js/controllers/largeLoad.json").success(function(b){a.setPagingData(b,d,c)})},100)},a.getPagedDataAsync(a.pagingOptions.pageSize,a.pagingOptions.currentPage),a.$watch("pagingOptions",function(b,c){b!==c&&b.currentPage!==c.currentPage&&a.getPagedDataAsync(a.pagingOptions.pageSize,a.pagingOptions.currentPage,a.filterOptions.filterText)},!0),a.$watch("filterOptions",function(b,c){b!==c&&a.getPagedDataAsync(a.pagingOptions.pageSize,a.pagingOptions.currentPage,a.filterOptions.filterText)},!0),a.gridOptions={data:"myData",enablePaging:!0,showFooter:!0,totalServerItems:"totalServerItems",pagingOptions:a.pagingOptions,filterOptions:a.filterOptions}}]),angular.module("app").controller("ImgCropCtrl",["$scope",function(a){a.myImage="",a.myCroppedImage="",a.cropType="circle";var b=function(b){var c=b.currentTarget.files[0],d=new FileReader;d.onload=function(b){a.$apply(function(a){a.myImage=b.target.result})},d.readAsDataURL(c)};angular.element(document.querySelector("#fileInput")).on("change",b)}]),angular.module("app").filter("propsFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){d=!0;break}}d&&c.push(a)}):c=a,c}}),angular.module("app").controller("SelectCtrl",function(a,b,c){a.disabled=void 0,a.searchEnabled=void 0,a.enable=function(){a.disabled=!1},a.disable=function(){a.disabled=!0},a.enableSearch=function(){a.searchEnabled=!0},a.disableSearch=function(){a.searchEnabled=!1},a.clear=function(){a.person.selected=void 0,a.address.selected=void 0,a.country.selected=void 0},a.someGroupFn=function(a){return a.name[0]>="A"&&a.name[0]<="M"?"From A - M":a.name[0]>="N"&&a.name[0]<="Z"?"From N - Z":void 0},a.personAsync={selected:"wladimir@email.com"},a.peopleAsync=[],c(function(){a.peopleAsync=[{name:"Adam",email:"adam@email.com",age:12,country:"United States"},{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},{name:"Nicolás",email:"nicole@email.com",age:43,country:"Colombia"}]},3e3),a.counter=0,a.someFunction=function(b,c){a.counter++,a.eventResult={item:b,model:c}},a.removed=function(b,c){a.lastRemoved={item:b,model:c}},a.person={},a.people=[{name:"Adam",email:"adam@email.com",age:12,country:"United States"},{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},{name:"Nicolás",email:"nicolas@email.com",age:43,country:"Colombia"}],a.availableColors=["Red","Green","Blue","Yellow","Magenta","Maroon","Umbra","Turquoise"],a.multipleDemo={},a.multipleDemo.colors=["Blue","Red"],a.multipleDemo.selectedPeople=[a.people[5],a.people[4]],a.multipleDemo.selectedPeopleWithGroupBy=[a.people[8],a.people[6]],a.multipleDemo.selectedPeopleSimple=["samantha@email.com","wladimir@email.com"],a.address={},a.refreshAddresses=function(c){var d={address:c,sensor:!1};return b.get("http://maps.googleapis.com/maps/api/geocode/json",{params:d}).then(function(b){a.addresses=b.data.results})},a.country={},a.countries=[{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}),angular.module("app").controller("SigninFormController",["$scope","$http","$state","Facebook","userManagement","toaster","$cookies",function(a,b,c,d,e,f,g){a.user={},a.authError=null,a.me=function(h){d.api("/me",function(d){b.get("http://jsonip.com").then(function(b){var i={device_id:b.data.ip,platform:"WEB",provider:"FACEBOOK",uid:d.id,access_token:h};a.myPromise=e.login(i).success(function(a){console.log(a),g.userId=a.user_id,console.log(g.userId),c.go("app.cue")}).error(function(a){if(400===a.type){var d=[],h={};h.provider="FACEBOOK",h.uid=i.uid,h.access_token=i.access_token,d.push(h),i.accounts=d,e.signUp(i).success(function(a){console.log("created!",a),a.success?(f.pop("success",a.message),g.userId=b.user_id,console.log(g.userId,"cre"),c.go("app.cue")):(f.pop("success","Successfully Registered."),g.userId=b.user_id,console.log(g.userId,"Reg"),c.go("app.cue"))}).error(function(a){console.log(a)})}})},function(){})})},a.login=function(){a.authError=null;var d=["admin@whatsay.com"],h=["123"],i=d.indexOf(a.user.email);-1!==i&&a.user.password===h[i]?c.go("app.cue"):a.myPromise=b.get("http://jsonip.com").then(function(b){var d={};d.device_id=b.data.ip,d.platform="WEB",d.provider="EMAIL",d.uid=a.user.email,d.password=a.user.password,console.log(b.data.ip,d),e.login(d).success(function(a){console.log(a),a.user_id?(g.userId=a.user_id,console.log(g.userId),c.go("app.cue")):a.error&&f.pop("error",a.error)}).error(function(a){console.log(a),f.pop("error",a.error)})})},a.fbLogin=function(){d.login(function(b){if("connected"===b.status){console.log(b),a.logged=!0;var c=b.authResponse.accessToken;a.me(c)}})},a.logout=function(){delete g.userId,d.logout(),c.go("whatsay.login")}}]),angular.module("app").controller("SignupFormController",["$scope","$http","$state","Facebook","userManagement","toaster",function(a,b,c,d,e,f){a.user={},a.authError=null;a.me=function(f){d.api("/me",function(d){b.get("http://jsonip.com").then(function(b){var g={device_id:b.data.ip,platform:"WEB",provider:"FACEBOOK",uid:d.id,access_token:f};e.login(g).success(function(a){console.log(a),c.go("app.cue")}).error(function(b){console.log(b),400===b.type&&a.signup(g)})},function(){})})},a.signup=function(d){a.authError=null,a.myPromise=b.get("http://jsonip.com").then(function(b){var g={},h={};g.device_id=b.data.ip,g.platform="WEB",h.provider=d.provider||"EMAIL",h.email_id=a.user.email,h.password=a.user.password,h.uid=d.uid||"",h.access_token=d.access_token||"",g.accounts=[],g.accounts.push(h),a.myPromise=e.signUp(g).success(function(a){console.log("created!",a),a.success?(f.pop("success",a.message),c.go("whatsay.login")):f.pop("error",a.message)}).error(function(a){console.log(a)})},function(a){console.log(a)})},a.fbLogin=function(){d.login(function(b){if("connected"===b.status){console.log(b,"access-token"),a.logged=!0;var c=b.authResponse.accessToken;a.me(c)}})}}]),angular.module("app").controller("SliderCtrl",function(a){a.cost=40,a.range={min:30,max:60},a.currencyFormatting=function(a){return"$"+a.toString()
}}),angular.module("app").controller("CustomTabController",["$scope",function(a){a.tabs=[!0,!1,!1],a.tab=function(b){angular.forEach(a.tabs,function(b,c){a.tabs[c]=!1}),a.tabs[b]=!0}}]),angular.module("app").controller("ToasterDemoCtrl",["$scope","toaster",function(a,b){a.toaster={type:"success",title:"Title",text:"Message"},a.pop=function(){b.pop(a.toaster.type,a.toaster.title,a.toaster.text)}}]),angular.module("app").controller("AbnTestController",function(a,b){var c,d,e,f;return a.my_tree_handler=function(b){var c;return a.output="You selected: "+b.label,(null!==(c=b.data)?c.description:void 0)?a.output+="("+b.data.description+")":void 0},c=function(b){return a.output="APPLE! : "+b.label},e=[{label:"Animal",children:[{label:"Dog",data:{description:"man'/s best friend"}},{label:"Cat",data:{description:"Felis catus"}},{label:"Hippopotamus",data:{description:"hungry, hungry"}},{label:"Chicken",children:["White Leghorn","Rhode Island Red","Jersey Giant"]}]},{label:"Vegetable",data:{definition:"A plant or part of a plant used as food, typically as accompaniment to meat or fish, such as a cabbage, potato, carrot, or bean.",data_can_contain_anything:!0},onSelect:function(b){return a.output="Vegetable: "+b.data.definition},children:[{label:"Oranges"},{label:"Apples",children:[{label:"Granny Smith",onSelect:c},{label:"Red Delicous",onSelect:c},{label:"Fuji",onSelect:c}]}]},{label:"Mineral",children:[{label:"Rock",children:["Igneous","Sedimentary","Metamorphic"]},{label:"Metal",children:["Aluminum","Steel","Copper"]},{label:"Plastic",children:[{label:"Thermoplastic",children:["polyethylene","polypropylene","polystyrene"," polyvinyl chloride"]},{label:"Thermosetting Polymer",children:["polyester","polyurethane","vulcanized rubber","bakelite","urea-formaldehyde"]}]}]}],f=[{label:"North America",children:[{label:"Canada",children:["Toronto","Vancouver"]},{label:"USA",children:["New York","Los Angeles"]},{label:"Mexico",children:["Mexico City","Guadalajara"]}]},{label:"South America",children:[{label:"Venezuela",children:["Caracas","Maracaibo"]},{label:"Brazil",children:["Sao Paulo","Rio de Janeiro"]},{label:"Argentina",children:["Buenos Aires","Cordoba"]}]}],a.my_data=e,a.try_changing_the_tree_data=function(){return a.my_data=a.my_data===e?f:e},a.my_tree=d={},a.try_async_load=function(){return a.my_data=[],a.doing_async=!0,b(function(){return a.my_data=Math.random()<.5?e:f,a.doing_async=!1,d.expand_all()},1e3)},a.try_adding_a_branch=function(){var a;return a=d.get_selected_branch(),d.add_branch(a,{label:"New Branch",data:{something:42,"else":43}})}}),angular.module("app").controller("JVectorMapDemoCtrl",["$scope",function(a){a.world_markers=[{latLng:[41.9,12.45],name:"Vatican City"},{latLng:[43.73,7.41],name:"Monaco"},{latLng:[-.52,166.93],name:"Nauru"},{latLng:[-8.51,179.21],name:"Tuvalu"},{latLng:[43.93,12.46],name:"San Marino"},{latLng:[47.14,9.52],name:"Liechtenstein"},{latLng:[7.11,171.06],name:"Marshall Islands"},{latLng:[17.3,-62.73],name:"Saint Kitts and Nevis"},{latLng:[3.2,73.22],name:"Maldives"},{latLng:[35.88,14.5],name:"Malta"},{latLng:[12.05,-61.75],name:"Grenada"},{latLng:[13.16,-61.23],name:"Saint Vincent and the Grenadines"},{latLng:[13.16,-59.55],name:"Barbados"},{latLng:[17.11,-61.85],name:"Antigua and Barbuda"},{latLng:[-4.61,55.45],name:"Seychelles"},{latLng:[7.35,134.46],name:"Palau"},{latLng:[42.5,1.51],name:"Andorra"},{latLng:[14.01,-60.98],name:"Saint Lucia"},{latLng:[6.91,158.18],name:"Federated States of Micronesia"},{latLng:[1.3,103.8],name:"Singapore"},{latLng:[1.46,173.03],name:"Kiribati"},{latLng:[-21.13,-175.2],name:"Tonga"},{latLng:[15.3,-61.38],name:"Dominica"},{latLng:[-20.2,57.5],name:"Mauritius"},{latLng:[26.02,50.55],name:"Bahrain"},{latLng:[.33,6.73],name:"São Tomé and Príncipe"}],a.usa_markers=[{latLng:[40.71,-74],name:"New York"},{latLng:[34.05,-118.24],name:"Los Angeles"},{latLng:[41.87,-87.62],name:"Chicago"},{latLng:[29.76,-95.36],name:"Houston"},{latLng:[39.95,-75.16],name:"Philadelphia"},{latLng:[38.9,-77.03],name:"Washington"},{latLng:[37.36,-122.03],name:"Silicon Valley"}]}]);